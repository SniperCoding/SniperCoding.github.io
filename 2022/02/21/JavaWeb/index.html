<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/tiger_32_32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/tiger_16_16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"snipercoding.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="一. JavaWeb概述 JavaWeb：使用 Java 语言开发基于互联网的项目">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb基础知识">
<meta property="og:url" content="https://snipercoding.github.io/2022/02/21/JavaWeb/index.html">
<meta property="og:site_name" content="SniperCoding的个人博客">
<meta property="og:description" content="一. JavaWeb概述 JavaWeb：使用 Java 语言开发基于互联网的项目">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153459.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153503.bmp">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153501.png">
<meta property="article:published_time" content="2022-02-21T02:55:32.000Z">
<meta property="article:modified_time" content="2022-02-21T02:55:32.000Z">
<meta property="article:author" content="SniperCoding">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153459.png">

<link rel="canonical" href="https://snipercoding.github.io/2022/02/21/JavaWeb/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JavaWeb基础知识 | SniperCoding的个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>
 
   <script async type="text/javascript" src="/js/fireworks.js"></script>    

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SniperCoding的个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录成长点滴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://snipercoding.github.io/2022/02/21/JavaWeb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="SniperCoding">
      <meta itemprop="description" content="请不要假装很努力，因为结果不会陪你演戏！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SniperCoding的个人博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaWeb基础知识
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-21 10:55:32" itemprop="dateCreated datePublished" datetime="2022-02-21T10:55:32+08:00">2022-02-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2022/02/21/JavaWeb/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/02/21/JavaWeb/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>25k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>22 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="一-JavaWeb概述"><a href="#一-JavaWeb概述" class="headerlink" title="一. JavaWeb概述"></a>一. JavaWeb概述</h1><blockquote>
<p>JavaWeb：使用 Java 语言开发基于互联网的项目</p>
</blockquote>
<span id="more"></span>

<p>软件架构：</p>
<ul>
<li><code>C/S</code>: Client&#x2F;Server 客户端&#x2F;服务器端<ul>
<li>在用户本地有一个客户端程序，在远程有一个服务器端程序</li>
<li>如：QQ，迅雷…</li>
<li>优点：用户体验好</li>
<li>缺点：开发、安装，部署，维护麻烦</li>
</ul>
</li>
<li><code>B/S</code>: Browser&#x2F;Server 浏览器&#x2F;服务器端<ul>
<li>只需要一个浏览器，用户通过不同的网址(URL)，客户访问不同的服务器端程序</li>
<li>优点：开发、安装，部署，维护简单</li>
<li>缺点：如果应用过大，用户的体验可能会受到影响、对硬件要求过高</li>
</ul>
</li>
</ul>
<p>B&#x2F;S 架构资源分类</p>
<ul>
<li><u>静态资源</u>（使用静态网页开发技术发布的资源。）<ul>
<li>所有用户访问，得到的结果是一样的。</li>
<li>如：文本，图片，音频、视频、HTML、CSS、JavaScript</li>
<li>如果用户请求的是静态资源，那么服务器会直接将静态资源发送给浏览器。浏览器中内置了静态资源的解析引擎，可以展示静态资源.</li>
<li>HTML：用于搭建基础网页，展示页面的内容（结构标准：结构用于对网页元素进行整理和分类）</li>
<li>CSS：用于美化页面，布局页面（表现标准：表现用于设置网页元素的版式、颜色、大小等外观样式）</li>
<li>JavaScript：控制页面的元素，让页面有一些动态的效果（行为标准：行为是指网页模型的定义及交互的编）</li>
</ul>
</li>
</ul>
<ul>
<li><u>动态资源</u>（使用动态网页及时发布的资源。）<ul>
<li>不同用户访问，得到的结果可能不一样。</li>
<li>如：jsp&#x2F;servlet、php、asp…</li>
<li>如果用户请求的是动态资源，那么<u>服务器会执行动态资源，将其转换为静态资源，再发送给浏览器。</u></li>
</ul>
</li>
</ul>
<h1 id="一-XML"><a href="#一-XML" class="headerlink" title="一. XML"></a>一. XML</h1><h2 id="1-名词解释"><a href="#1-名词解释" class="headerlink" title="1. 名词解释"></a>1. 名词解释</h2><p>XML 全称：Extensible Markup Language 可扩展标记语言</p>
<p>XML 作用：</p>
<p><strong>用来传输和存储数据。</strong></p>
<ul>
<li><strong>作为配置文件</strong></li>
</ul>
<p>XML 与 HTML 的区别：</p>
<ul>
<li>xml 标签都是自定义的，html 标签是预定义。</li>
<li>xml 的语法严格，html 语法松散</li>
<li>xml 用于存储和传输数据的，其焦点是数据的内容。html 用于显示数据，其焦点是数据的外观。</li>
</ul>
<h2 id="2-语法"><a href="#2-语法" class="headerlink" title="2. 语法"></a>2. 语法</h2><h3 id="（1）规范"><a href="#（1）规范" class="headerlink" title="（1）规范"></a>（1）规范</h3><ul>
<li><p>xml 文档的后缀名 .xml</p>
</li>
<li><p>xml 第一行必须定义为文档声明</p>
</li>
<li><p>xml 文档中有且仅有一个根标签</p>
</li>
<li><p>属性值必须使用引号(单双都可)引起来</p>
</li>
<li><p>标签必须正确关闭</p>
</li>
<li><p>大小写敏感</p>
</li>
<li><p>注释不能嵌套 <!-- 注释内容 --></p>
</li>
</ul>
<h3 id="（2）文档声明"><a href="#（2）文档声明" class="headerlink" title="（2）文档声明"></a>（2）文档声明</h3><p>格式：&lt;?xml version&#x3D;”1.0” encoding&#x3D;”UTF-8”?&gt;</p>
<ul>
<li><p>version：版本号</p>
</li>
<li><p>encoding：编码方式。告知解析引擎当前文档使用的字符集，默认值：ISO-8859-1</p>
</li>
<li><p>standalone（可以省略）：是否独立，取值为yes，表示不依赖其他文件，取值为no（默认值），表示依赖其他文件</p>
</li>
</ul>
<h3 id="（3）标签（元素）"><a href="#（3）标签（元素）" class="headerlink" title="（3）标签（元素）"></a>（3）标签（元素）</h3><p>在XML中，元素就是标签的意思。</p>
<p>规则：</p>
<ul>
<li>名称可以包含字母、数字以及其他的字符 </li>
<li>名称不能以数字或者标点符号开始 </li>
<li>名称不能以字母 xml（或者 XML、Xml 等等）开始 </li>
<li>名称不能包含空格 </li>
<li>XML元素中出现的空格和换行都会被当做元素内容进行处理。</li>
<li>xml 也 中的元素（标签）可成分成单标签和双标签：<br>单标签： &lt;标签名 属性&#x3D;”值” 属性&#x3D;”值” …… &#x2F;&gt;<br>双标签：&lt; 标签名 属性&#x3D;”值” 属性&#x3D;”值” ……&gt;文本数据或子标签&lt;&#x2F;标签名&gt;**</li>
</ul>
<h3 id="（4）特殊字符"><a href="#（4）特殊字符" class="headerlink" title="（4）特殊字符"></a>（4）特殊字符</h3><table>
<thead>
<tr>
<th align="center">特殊字符</th>
<th align="center">替代符号</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>&lt;</code></td>
<td align="center"><code>&amp;lt;</code></td>
</tr>
<tr>
<td align="center"><code>&gt;</code></td>
<td align="center"><code>&amp;gt;</code></td>
</tr>
<tr>
<td align="center"><code>&#39;</code></td>
<td align="center"><code>&amp;apos;</code></td>
</tr>
<tr>
<td align="center"><code>&quot;</code></td>
<td align="center"><code>&amp;quot;</code></td>
</tr>
<tr>
<td align="center"><code>&amp;</code></td>
<td align="center"><code>&amp;amp;</code></td>
</tr>
</tbody></table>
<h3 id="（5）CDATA-区"><a href="#（5）CDATA-区" class="headerlink" title="（5）CDATA 区"></a>（5）CDATA 区</h3><p>CDATA 是 Character Dat a的缩写，作用：在该区域中的数据会被原样展示。</p>
<pre><code>格式：  &lt;![CDATA[ 内容 ]]&gt;
</code></pre>
<h2 id="3-XML-解析"><a href="#3-XML-解析" class="headerlink" title="3. XML 解析"></a>3. XML 解析</h2><p>解析：操作 xml 文档，将文档中的数据读取到内存中</p>
<p>操作 xml 文档</p>
<ul>
<li>解析(读取)：将文档中的数据读取到内存中</li>
<li>写入：将内存中的数据保存到xml文档中。持久化的存储</li>
</ul>
<p>解析 xml 的方式：</p>
<ul>
<li><p>JDK 提供</p>
<ul>
<li><p>DOM：将标记语言文档一次性加载进内存，在内存中形成一颗dom树</p>
<p>优点：操作方便，可以对文档进行CRUD的所有操作</p>
<p>缺点：占内存</p>
</li>
<li><p>SAX（ Simple API for XML ）：逐行读取，基于事件驱动的。</p>
<p>优点：不占内存。</p>
<p>缺点：只能读取，不能增删改</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>第三方解析器<ul>
<li>jdom 在 dom 基础上进行了封装</li>
<li>dom4j 又对 jdom 进行了封装。</li>
</ul>
</li>
</ul>
<h2 id="4-dom4j-解析技术"><a href="#4-dom4j-解析技术" class="headerlink" title="4. dom4j 解析技术"></a>4. dom4j 解析技术</h2><p>dom4j 解析集 DOM 和 SAX 技术优点于一身，是目前最常用的解析 XML 的方法，</p>
<p>使用：</p>
<p>（1）导如 jar 包</p>
<p>创建一个 lib 目录， 导入dom4j 的 jar 包。并添加到类路径。</p>
<p>（2）CRUD</p>
<p>① 读取 XML 文件，获得 Document 对象</p>
<p>② 调用 Document 对象的 getRootElement() 方法得到根标签，返回的是 Element 对象</p>
<p>③ 使用 ELement对象.方法名(参数)进行操作</p>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">方法名（参数）</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Element</td>
<td align="left">element(“标签名”)</td>
<td align="left">获取指定名称的子元素，如果有多个该名称的子元素，则返回第一个</td>
</tr>
<tr>
<td align="left">List</td>
<td align="left">elements()</td>
<td align="left">获取所有子元素，并用一个list返回</td>
</tr>
<tr>
<td align="left">List</td>
<td align="left">elements(“标签名”)</td>
<td align="left">获得所有的该标签的子元素</td>
</tr>
<tr>
<td align="left">String</td>
<td align="left">getText()</td>
<td align="left">获得元素文本值</td>
</tr>
<tr>
<td align="left">String</td>
<td align="left">elementText(“标签名”)</td>
<td align="left">获得指定名称子元素的文本值</td>
</tr>
<tr>
<td align="left">void</td>
<td align="left">setText(“文本值”)</td>
<td align="left">设置元素文本值</td>
</tr>
<tr>
<td align="left">Element</td>
<td align="left">getparent()</td>
<td align="left">获取父节点，如果是根元素调用则返回null</td>
</tr>
<tr>
<td align="left">List</td>
<td align="left">attributes()</td>
<td align="left">获取该元素的所有属性，以一个list返回</td>
</tr>
<tr>
<td align="left">String</td>
<td align="left">attributeValue(“属性名”)</td>
<td align="left">获取指定名称属性的值，如果不存在该属性返回null</td>
</tr>
<tr>
<td align="left">Attribute</td>
<td align="left">attribute(”属性名“)</td>
<td align="left">获取指定名称的属性</td>
</tr>
<tr>
<td align="left">Element</td>
<td align="left">addAttribute(“标签名”,”标签值”)</td>
<td align="left">为元素增加属性</td>
</tr>
<tr>
<td align="left">void</td>
<td align="left">setAttributes(List attributes)</td>
<td align="left">将list中的所有属性设置到该元素上</td>
</tr>
<tr>
<td align="left">boolean</td>
<td align="left">remove(Attribute attribute)</td>
<td align="left">移除元素上的属性</td>
</tr>
<tr>
<td align="left">Iterator</td>
<td align="left">attributeIterator()</td>
<td align="left">获取属性迭代器</td>
</tr>
<tr>
<td align="left">Iterator</td>
<td align="left">elementIterator()</td>
<td align="left">获取子元素迭代器</td>
</tr>
<tr>
<td align="left">Iterator</td>
<td align="left">elementIterator(QName qName)</td>
<td align="left">获取指定名称的子元素的迭代器</td>
</tr>
</tbody></table>
<p>注意：读取 XML 文档的数据，都是通过 Document 获取根元素，再通过根元素获取得到其他节点从而进行操作。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--要解析的xml文档--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">books</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">book</span> <span class="attr">sn</span>=<span class="string">&quot;SN12341232&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">name</span>&gt;</span>辟邪剑谱<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">price</span>&gt;</span>9.9<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">author</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">sn</span>=<span class="string">&quot;SN12341231&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>葵花宝典<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">price</span>&gt;</span>99.99<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>班长<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">books</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XMLTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//1.创建一个 SAXReader 对象</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.使用SAXReader对象读取XML文件，获取Document对象</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;books.xml&quot;</span>));</span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> saxReader.read(inputStream);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.使用Document对象获取根元素</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.获取所有标签</span></span><br><span class="line">        List&lt;Element&gt; elements = root.elements(<span class="string">&quot;book&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.遍历每一个标签，获取标签的每一个元素(.element)，再获取标签内容(.getText)</span></span><br><span class="line">        <span class="comment">//获取标签元素，再获取标签内容，可以合并为一步，使用.elementText</span></span><br><span class="line">        <span class="keyword">for</span> (Element element : elements) &#123;</span><br><span class="line">            <span class="comment">//获取属性值</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">cn</span> <span class="operator">=</span> element.attributeValue(<span class="string">&quot;cn&quot;</span>);</span><br><span class="line">            <span class="comment">//获取元素值</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> element.elementText(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">price</span> <span class="operator">=</span> element.elementText(<span class="string">&quot;price&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">author</span> <span class="operator">=</span> element.elementText(<span class="string">&quot;author&quot;</span>);</span><br><span class="line">            <span class="comment">//将信息封装到一个对象中</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">Book</span>(cn,name,Double.parseDouble(price),author));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="二-Tomcat"><a href="#二-Tomcat" class="headerlink" title="二. Tomcat"></a>二. Tomcat</h1><h2 id="1-名词解释-1"><a href="#1-名词解释-1" class="headerlink" title="1. 名词解释"></a>1. 名词解释</h2><p>Java web，是用 java 技术来解决相关 web 互联网领域技术的总称。web 包括：web 服务器和 web 客户端两部分。</p>
<p>javaweb 是基于请求和响应来开发的。</p>
<ul>
<li>请求：浏览器（客户端）向服务器发送信息</li>
<li>响应：服务器向（客户端）浏览器回送信息</li>
</ul>
<p>Tomcat：由 Apache 组织提供的一种 Web 服务器，提供对 jsp 和 Servlet 的支持。<strong>它是一种轻量级的 javaWeb 容器（服务器），也是当前应用最广的 JavaWeb 服务器（免费）。</strong></p>
<h2 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2. 基本使用"></a><strong>2. 基本使用</strong></h2><h3 id="（1）安装"><a href="#（1）安装" class="headerlink" title="（1）安装"></a>（1）安装</h3><ul>
<li><p>下载 Tomcat：<a target="_blank" rel="noopener" href="http://tomcat.apache.org/whichversion.html">http://tomcat.apache.org/whichversion.html</a></p>
</li>
<li><p>安装 Tomcat：Tomcat 有安装版和解压版（绿色版)。</p>
<p>安装版以.exe 形式的安装包，双击安装到我们的电脑上，用的比较少，解压版，即绿色版，解压压缩包后即可，用的比较多。</p>
</li>
<li><p>Tomcat 版本</p>
<p>Apache Tomcat® 是 Jakarta EE (正式的 Java EE )技术的一个子集的开源软件实现。对于不同版本的规范，可以使用不同版本的 Apache Tomcat。规范和各自的 Apache Tomcat 版本之间的映射如下图：</p>
<img src="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153459.png" alt="image-20210831212305407" style="zoom:70%;" />
</li>
<li><p>卸载 Tomcat：删除目录就行了</p>
</li>
<li><p>安装目录介绍：</p>
<ul>
<li><p><u>bin</u>：存放可执行文件。</p>
<p>在 window 下使用 startup.bat 和 shutdown.bat (linux，使用 startup.sh 和 shutdown.sh )来开启和关闭。最核心的脚本是 catalina.bat&#x2F;catalina.sh，startup 和 shutdown 脚本都会调用 catalina 脚本，catalina 脚本启动或者停止 tomcat 服务器。</p>
</li>
<li><p><u>conf</u>：配置文件目录 。</p>
<ul>
<li><p>server.xml（核心配置文件）：配置整个 web 服务器信息。例如修改端口号，添加虚拟主机等.</p>
</li>
<li><p>tomcat-users.xml（用户权限配置文件）：存储 tomcat 用户的文件，这里保存的是 tomcat 的用户名及密码，以及用户的角色信息。</p>
</li>
<li><p>web.xml（所有 web 项目默认配置文件）：部署描述符文件，这个文件中注册了很多 MIME 类型，即文档类型。</p>
</li>
<li><p>context.xml：对所有应用的统一配置，通常我们不会去配置它。</p>
</li>
</ul>
</li>
<li><p><u>lib</u>：依赖库，tomcat 和 web 项目中需要使用的 jar 包</p>
</li>
<li><p><u>logs</u>：日志文件.</p>
<p>记录了 tomcat 启动和关闭的信息，如果启动 tomcat 时有错误，那么异常也会记录在日志文件中。</p>
<p>localhost_access_log.*.txttomcat 记录用户访问信息，星号表示时间。<br>例如：localhost_access_log.2016-02-28.txt</p>
</li>
<li><p><u>temp</u>：临时文件目录，文件夹内内容可以任意删除。</p>
</li>
<li><p><u>webapps</u>：<strong>存放web项目的目录，其中每个文件夹都是一个项目；</strong>如果这个目录下已经存在了目录，那么都是 tomcat 自带项目。其中 ROOT 是一个特殊的项目，在地址栏中没有给出项目目录时，对应的就是ROOT 项目。<a target="_blank" rel="noopener" href="http://localhost:8080/examples%EF%BC%8C%E8%BF%9B%E5%85%A5%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE%E3%80%82%E5%85%B6%E4%B8%AD">http://localhost:8080/examples，进入示例项目。其中</a> examples 就是项目名，即文件夹的名字。</p>
</li>
<li><p><u>work</u><strong>：运行时生成的文件，最终运行的文件都在这里。</strong>通过 webapps 中的项目生成的，可以把这个目录下的内容删除，再次运行时会生再次生成 work 目录。当客户端用户访问一个JSP文件时，tomcat 会通过JSP 生成 Java 文件，然后再编译 Java 文件生成 class 文件，生成的 java 和 class 文件都会存放到这个目录下。</p>
</li>
</ul>
</li>
</ul>
<h3 id="（2）启动"><a href="#（2）启动" class="headerlink" title="（2）启动"></a>（2）启动</h3><p>① 启动</p>
<ul>
<li><p><code>bin/startup.bat</code> ,双击运行该文件即可（bin目录下）</p>
<p>可能遇到的问题：</p>
<ol>
<li><p>黑窗口一闪而过：</p>
<ul>
<li>原因： 没有正确配置JAVA_HOME环境变量</li>
<li>解决方案：正确配置JAVA_HOME环境变量</li>
</ul>
</li>
<li><p>启动报错：</p>
<ul>
<li><p>原因：端口号冲突</p>
</li>
<li><p>解决方案：</p>
<p>方法一：找到占用的端口号，并且找到对应的进程，杀死该进程。</p>
<p>​    运行 cmd，输入netstat -ano|findstr 8080，会显示正在使用8080 端口的进程的id。</p>
<p>​    再输入taskkill &#x2F;pid 进程的id &#x2F;f，即可将其关闭。</p>
<p>方法二：修改端口号，找到 Tomcat 目录下的 conf 目录，找到 server.xml 配置文件，修改Connector标签下的port。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;要修改的端口号(0~65535)&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span> <span class="attr">redirectPort</span>=<span class="string">&quot;8445&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ul>
<p>② 访问：浏览器输入：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> &#x2F; <a target="_blank" rel="noopener" href="http://172.0.0.1:8080/">http://172.0.0.1:8080</a> &#x2F; <u>http:&#x2F;&#x2F;真实ip地址:8080</u></p>
<p>③ 关闭：</p>
<ul>
<li><p><code>bin/shutdown.bat</code>，双击此文件即可（bin目录下）</p>
</li>
<li><p>Tomcat 服务器窗口下，使用ctrl+c</p>
</li>
<li><p>点击启动窗口的× 关闭</p>
</li>
</ul>
<h3 id="（3）部署"><a href="#（3）部署" class="headerlink" title="（3）部署"></a>（3）部署</h3><p>部署 web 项目的方式：</p>
<ol>
<li><p>直接将项目放到 webapps 目录下即可。</p>
<ul>
<li>访问资源路径：<a href="http://ip:port/工程名/资源名">http://ip:port/工程名/资源名</a> ， 比如<a target="_blank" rel="noopener" href="http://localhost:8080/hello/hello.html">http://localhost:8080/hello/hello.html</a></li>
<li>简化部署：将项目打成一个 wa r包，再将 war 包放置到 webapps 目录下。<ul>
<li>war 包会自动解压缩（访问路径为 war 包的名称）</li>
</ul>
</li>
</ul>
</li>
<li><p>配置 conf&#x2F;server.xml 文件<br>在&lt;Host&gt;标签体中配置&lt;Context docBase&#x3D;”××××” path&#x3D;”××××” &#x2F;&gt;</p>
<ul>
<li>docBase：项目存放的路径</li>
<li>path：虚拟目录（即” &#x2F;工程名 “），访问资源路径：<a href="http://ip:port/工程名/资源名">http://ip:port/工程名/资源名</a></li>
</ul>
</li>
<li><p>在 conf\Catalina\localhost 创建任意名称的xml文件。在文件中编写]&lt;Context docBase&#x3D;”D:\hello” &#x2F;&gt;</p>
<ul>
<li>虚拟目录：xml文件的名称 ,访问资源路径：<a href="http://ip:port/xml文件名/资源名">http://ip:port/xml文件名/资源名</a> （热部署，推荐）</li>
</ul>
</li>
</ol>
<p>注意：</p>
<ul>
<li>当我们在浏览器地址栏中输入访问地址如下：<br><a href="http://ip:port/">http://ip:port/</a> &#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt;&gt; 没有工程名的时候，默认访问的是 ROOT 工程。</li>
<li>当我们在浏览器地址栏中输入的访问地址如下：<br><a href="http://ip:port/工程名/">http://ip:port/工程名/</a> &#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt;&gt; 没有资源名，默认访问 index.html 页面</li>
</ul>
<h3 id="（4）IDEA-添加-Tomcat-服务器"><a href="#（4）IDEA-添加-Tomcat-服务器" class="headerlink" title="（4）IDEA 添加 Tomcat 服务器"></a>（4）IDEA 添加 Tomcat 服务器</h3><p>操作的菜单如下： File | Settings | Build, Execution, Deployment | Application Servers</p>
<p>点击 + 号，选择Tomcat Server，Tomcat Home为 apache-tomcat-8.0.50 的安装路径，之后点击OK即可。</p>
<p>（举例：F:\Program Files\apache-tomcat-8.0.50-windows-x64\apache-tomcat-8.0.50）</p>
<p>之后创建一个Java Enterprice 模块，如果在 Application Server 中可以选择 Tomcat 服务器，即配置成功。</p>
<h3 id="（5）IDEA-中动态-web-工程的操作"><a href="#（5）IDEA-中动态-web-工程的操作" class="headerlink" title="（5）IDEA 中动态 web 工程的操作"></a>（5）IDEA 中动态 web 工程的操作</h3><p>① <u>创建一个新模块</u>，选择 Java Enterprise，注意勾选 Web application。</p>
<p>② <u>为web工程添加额外jar包</u></p>
<ul>
<li><p>方式一：在 WEB-INF 目录下，创建一个 lib 文件夹，将需要的 jar 包复制到此文件夹下，并 Add as library。</p>
</li>
<li><p>方式二：File-&gt;Project Structure-&gt;Libraries-&gt;点击+，选择 java，添加需要的 jar 包-&gt;选择需要用此jar包的模块-&gt;apply，接着选择 Artifacts-&gt;模块名：war exploded-&gt;Fix-&gt;add…（将类库，添加到打包部署中）</p>
</li>
</ul>
<p>③ <u>在 IDEA 中部署工程到 Tomcat 上运行</u></p>
<p>​        可以在上方选择 Tomcat 的 Edit Configrations 编辑其属性，如名称、端口号、默认浏览器、url等</p>
<p>​        右边有启动、Debug 启动和停止。</p>
<p>java动态项目的目录结构：</p>
<ul>
<li>项目的根目录<ul>
<li>WEB-INF目录：（此目录下的资源不能被浏览器直接访问）<ul>
<li>web.xml：web项目的核心配置文件</li>
<li>classes目录：放置字节码文件的目录</li>
<li>lib目录：放置依赖的jar包</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="三-Servlet"><a href="#三-Servlet" class="headerlink" title="三. Servlet"></a>三. Servlet</h1><h2 id="1-名词解释-2"><a href="#1-名词解释-2" class="headerlink" title="1. 名词解释"></a>1. 名词解释</h2><ul>
<li><p><strong>Servlet 是运行在服务器上的一个 java 小程序，它可以接收客户端发送过来的请求，并响应数据给客户端。</strong></p>
</li>
<li><p>Servlet 就 JavaWeb 三大组件之一。三大组件分别是：<code>Servlet 程序</code>、<code>Filter 过滤器</code>、<code>Listener 监听器</code>。</p>
</li>
<li><p>Servlet 就是一个接口，定义了 Java 类被浏览器访问到（tomcat识别）的规则。</p>
</li>
<li><p>Servlet 的体系结构    </p>
<ul>
<li><u>Servlet</u> – 接口<br>|<br><u>GenericServle</u>t – 抽象类<br>    |<br><u>HttpServle</u>t  – 抽象类</li>
</ul>
<ul>
<li><p>GenericServlet：将 Servlet 接口中其他的方法做了默认空实现，只将 service() 方法作为抽象</p>
<ul>
<li>将来定义 Servlet类时，可以继承 GenericServlet，实现 service() 方法即可</li>
</ul>
</li>
<li><p>HttpServlet：对http协议的一种封装，简化操作</p>
<ol>
<li>定义类继承 HttpServlet</li>
<li>复写 doGet&#x2F;doPost 方法</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="2-实现-Servlet-接口实现-Servlet-程序"><a href="#2-实现-Servlet-接口实现-Servlet-程序" class="headerlink" title="2. 实现 Servlet 接口实现 Servlet 程序"></a>2. 实现 Servlet 接口实现 Servlet 程序</h2><h3 id="（1）步骤"><a href="#（1）步骤" class="headerlink" title="（1）步骤"></a>（1）步骤</h3><p>① 自定义一个类，实现 Servlet 接口<br>② 实现接口中的抽象方法，<u>其中 service 方法，用于处理请求，并响应数据</u><br>③ 到 web.xml 中去配置 servlet 程序的访问地址</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置Servlet --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet 标签给 Tomcat 配置 Servlet 程序 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--servlet-name 标签 Servlet 程序起一个别名（一般是类名） --&gt;</span></span><br><span class="line"> 	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--servlet-class 是 Servlet 程序的全类名 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>servlettest.ServletTest<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--servlet-mapping 标签给 servlet 程序配置访问地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--servlet-name 标签的作用是告诉服务器，我当前配置的地址给哪个 Servlet 程序使用 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--url-pattern 标签配置访问地址 &lt;br/&gt;</span></span><br><span class="line"><span class="comment">	/ 斜杠在服务器解析的时候，表示地址为： http://ip:port/工程路径 </span></span><br><span class="line"><span class="comment">	/hello 表示地址为： http://ip:port/工程路径/hello --&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="（2）执行原理"><a href="#（2）执行原理" class="headerlink" title="（2）执行原理"></a>（2）执行原理</h3><p><strong><a target="_blank" rel="noopener" href="http://localhost:8080/07_servlet/hello">http://localhost:8080/07_servlet/hello</a></strong></p>
<table>
<thead>
<tr>
<th>URL</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>http:&#x2F;&#x2F;</td>
<td>协议</td>
</tr>
<tr>
<td>localhost</td>
<td>ip</td>
</tr>
<tr>
<td>:8080</td>
<td>端口号</td>
</tr>
<tr>
<td>&#x2F;07_servlet</td>
<td>工程路径</td>
</tr>
<tr>
<td>&#x2F;hello</td>
<td>资源路径</td>
</tr>
</tbody></table>
<p>① 当服务器接受到客户端浏览器的请求后，会解析请求 URL 路径，获取访问的 Servlet 的资源路径</p>
<p>② 查找 web.xml 文件，是否有对应的 &lt;url-pattern&gt; 标签体内容。</p>
<p>③ 如果有，则在找到对应的 &lt;servlet-class&gt; 全类名</p>
<p>④ tomcat 会将字节码文件加载进内存(有了全类名，使用反射的方式)，并且创建其对象。</p>
<p>⑤ 调用其方法。</p>
<p><img src="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153503.bmp" alt="image-20220328152113712"></p>
<h3 id="（3）Servlet-中方法的生命周期"><a href="#（3）Servlet-中方法的生命周期" class="headerlink" title="（3）Servlet 中方法的生命周期"></a>（3）Servlet 中方法的生命周期</h3><table>
<thead>
<tr>
<th>作用</th>
<th>方法</th>
<th>调用时间</th>
<th>调用次数</th>
</tr>
</thead>
<tbody><tr>
<td>实例化</td>
<td>构造方法</td>
<td>第一次访问请求时</td>
<td>1</td>
</tr>
<tr>
<td>初始化</td>
<td>init</td>
<td>构造方法被调用后</td>
<td>1</td>
</tr>
<tr>
<td>服务</td>
<td>service</td>
<td>当 client（客户机）访问请求到达时</td>
<td>N（每次访问都会调用）</td>
</tr>
<tr>
<td>销毁</td>
<td>destory</td>
<td>server（服务器）关闭时</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id="（4）注解配置（了解）"><a href="#（4）注解配置（了解）" class="headerlink" title="（4）注解配置（了解）"></a>（4）注解配置（了解）</h3><ul>
<li><p>好处：不需要 web.xml 了。</p>
</li>
<li><p>步骤：</p>
<ol>
<li>创建 JavaEE 项目，选择 Servlet 的版本 3.0 以上，可以不创建 web.xml</li>
<li>定义一个类，实现 Servlet 接口</li>
<li>复写方法</li>
<li><u>在类上使用@WebServlet注解，进行配置：@WebServlet(“资源路径”)</u></li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebServlet &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;<span class="comment">//相当于&lt;Servlet-name&gt;</span></span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//代表urlPatterns()属性配置</span></span><br><span class="line">    String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;<span class="comment">//相当于&lt;url-pattern&gt;</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">loadOnStartup</span><span class="params">()</span> <span class="keyword">default</span> -<span class="number">1</span>;<span class="comment">//相当于&lt;load-on-startup&gt;</span></span><br><span class="line">    WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">    String <span class="title function_">smallIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">largeIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">displayName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（5）service-方法"><a href="#（5）service-方法" class="headerlink" title="（5）service 方法"></a>（5）service 方法</h3><p>service(ServletRequest servletRequest, ServletResponse servletResponse)</p>
<ul>
<li>服务器创建一个请求对象，处理客户端请求</li>
<li>服务器创建一个响应对象，响应客户端请求</li>
<li>服务器激活 Servlet 的 service() 方法，传递请求和响应对象作为参数</li>
<li>service() 方法获得关于请求对象的信息，处理请求，访问其他资源，获得需要的信息</li>
</ul>
<p>service 方法是专门用来处理请求和响应的，service() 方法使用响应对象的方法，将响应传回 Server，最终到达客户端。service() 方法可能激活其它方法以处理请求，如 doGet() 或 doPost() 或程序员自己开发的新的方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span></span><br><span class="line">ServletException, IOException &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;Servlet 被访问了&quot;</span>);</span><br><span class="line">    <span class="comment">// 类型转换（因为它有 getMethod() 方法）</span></span><br><span class="line">    <span class="type">HttpServletRequest</span> <span class="variable">httpServletRequest</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">    <span class="comment">// 获取请求的方式</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> httpServletRequest.getMethod();</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;GET&quot;</span>.equals(method)) &#123;</span><br><span class="line">    	doGet();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;POST&quot;</span>.equals(method)) &#123;</span><br><span class="line">    	doPost();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//做 get 请求的操作</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;处理get请求&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//做 post 请求的操作</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;处理post请求&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-继承-HttpServlet-方法实现-Servlet-程序"><a href="#3-继承-HttpServlet-方法实现-Servlet-程序" class="headerlink" title="3. 继承 HttpServlet 方法实现 Servlet 程序"></a>3. 继承 HttpServlet 方法实现 Servlet 程序</h2><p>一般在实际项目开发中，都是使用继承 HttpServlet 类的方式去实现 Servlet 程序。</p>
<h3 id="（1）步骤-1"><a href="#（1）步骤-1" class="headerlink" title="（1）步骤"></a>（1）步骤</h3><p>① 自定义一个类，去继承 HttpServlet 类<br>② 根据业务需要重写 doGet 或 doPost 方法<br>③ 到 web.xml 中的配置 Servlet 程序的访问地址**</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="comment">//重写doGet方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理get请求&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重写doPost方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理Post请求&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（2）使用IDEA自动创建"><a href="#（2）使用IDEA自动创建" class="headerlink" title="（2）使用IDEA自动创建"></a>（2）使用IDEA自动创建</h3><p>① 在包下，右键 New</p>
<p>② 选择 Create New Sevlet</p>
<p>③ 写类名，并将下方的使用注解的方式不勾选（当然也可以使用注解）</p>
<p>此时就创建了一个类，并且重写了 doGet 和 doPost 方法，注意还要去修改 web.xml 文件</p>
<h2 id="4-ServletConfig-类"><a href="#4-ServletConfig-类" class="headerlink" title="4. ServletConfig 类"></a>4. ServletConfig 类</h2><p><u>说明</u>：</p>
<ul>
<li>ServletConfig 类是 Servlet 程序的配置信息类。</li>
<li><u>Servlet 程序和 ServletConfig 对象都是由 Tomcat 负责创建，我们负责使用。</u></li>
<li>每个 Servlet 程序创建时，ServletConfig就创建一个对应的 ServletConfig 对象。也可以使用this.getservletconfig()。</li>
</ul>
<p><u>作用</u>：</p>
<ul>
<li>获取 Servlet 名称  getServletName()</li>
<li>获取 Servlet 初始化参数  getInitParameter() &#x2F;getInitParameterNames()</li>
<li>获取 ServletContext 对象：域对象</li>
</ul>
<p><u>初始化参数的配置文件</u>：</p>
<p>在 web.xml 文件中我们可以对 servlet 进行配置，在 &lt;servlet&gt; 配置标签内可以有以下这样的子标签：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--init-param 是初始化参数 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>参数名<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>参数值<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><u>方法</u>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>String  getServletName()</td>
<td>获取在web应用程序中部署的servlet实例的名称</td>
</tr>
<tr>
<td>String  getInitParameter(String name)</td>
<td>获取包含指定初始化参数的值的String,如果不存在，返回null</td>
</tr>
<tr>
<td>Enumeration  getInitParameterNames()</td>
<td>以 String 对象的 Enumeration 的形式返回 servlet 的初始化参数的名称</td>
</tr>
<tr>
<td>ServletContext  getServletContext()</td>
<td>返回对调用者在其中执行操作的 ServletContext 的引用。</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//举例</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    <span class="built_in">super</span>.init(config);</span><br><span class="line">    <span class="type">String</span> <span class="variable">servletName</span> <span class="operator">=</span> config.getServletName();</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> config.getInitParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;Servlet程序名称为：&quot;</span> + servletName);<span class="comment">//Servlet程序名称为：HttpSevletTest</span></span><br><span class="line">    System.out.println(<span class="string">&quot;初始化参数username的值是：&quot;</span> + username);<span class="comment">//初始化参数username的值是：root</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    <span class="built_in">super</span>.init();</span><br><span class="line">    <span class="type">String</span> <span class="variable">servletName</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig().getServletName();</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig().getInitParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;Servlet程序名称为：&quot;</span> + servletName);<span class="comment">//Servlet程序名称为：HttpSevletTest</span></span><br><span class="line">    System.out.println(<span class="string">&quot;初始化参数username的值是：&quot;</span> + username);<span class="comment">//初始化参数username的值是：root</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-ServletContext-类"><a href="#5-ServletContext-类" class="headerlink" title="5. ServletContext 类"></a>5. ServletContext 类</h2><p><u>说明</u>：</p>
<ul>
<li>ServletContext 是一个接口，它表示 Servlet 上下文对象</li>
<li>一个 web 工程，只有一个 ServletContext 对象实例。</li>
<li>ServletContext 对象是一个域对象（可以像 Map 一样存取数据的对象。这里的域指的是存取数据的操作范围，整个 web 工程。）</li>
<li>ServletContext 是在 web 工程部署启动的时候创建。</li>
</ul>
<p><u>作用</u>：</p>
<ul>
<li>获取 WEB 应用的初始化参数。（获取 web.xml 中配置的上下文参数 context-param）</li>
<li>获取当前的工程路径，格式: &#x2F;工程路径</li>
<li>获取工程部署后在服务器硬盘上的绝对路径</li>
<li>实现资源的共享（可以共享所有用户所有请求的数据）。（<strong>多个 Servlet 通过 ServletContext 对象数据共享</strong>）</li>
</ul>
<p><u>获取 servletContext 对象</u>：</p>
<ul>
<li><code>this.getServletConfig.getServletContext()</code></li>
<li><code>this.getServletContext()</code></li>
<li><code>request.getServletContext()</code></li>
</ul>
<p><u>方法</u>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>void  setAttribute(String name, Object obj);</td>
<td>添加属性</td>
</tr>
<tr>
<td>Object  getAttribute(String name)</td>
<td>获取属性值，这个方法返回Object</td>
</tr>
<tr>
<td>void  removeAttribute(String name)</td>
<td>删除属性</td>
</tr>
<tr>
<td>String  getRealPath(String path)</td>
<td>返回资源文件在服务器文件系统上的真实路径（文件的绝对路径）。<br/>参数 path 代表资源文件的虚拟路径，以 &#x2F; 开始，&#x2F; 表示当前 Web 应用的根目录</td>
</tr>
<tr>
<td>String  getInitParameter(String name)</td>
<td>获取Tomcat的初始化参数（上下文参数）</td>
</tr>
</tbody></table>
<p><u>上下文参数的配置文件：</u>  </p>
<p>在 web.xml 文件中我们可以对 servlet 进行配置，在 &lt;web-app&gt; 配置标签内可以有以下这样的子标签：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--context-param 是上下文参数 ( 它属于整个 web 工程 )--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>参数名<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>参数值<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：通过S ervletCintext 对象添加的属性，在全局内可以共享，即多个 Servlet 通过 ServletContext 对象数据共享。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取ServletContext对象</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig().getServletContext();</span><br><span class="line">        <span class="comment">// 添加属性</span></span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取属性</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">password</span> <span class="operator">=</span> servletContext.getAttribute(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">key</span> <span class="operator">=</span> servletContext.getAttribute(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;password:&quot;</span> + password);<span class="comment">//password:123</span></span><br><span class="line">        System.out.println(<span class="string">&quot;key:&quot;</span> + key);<span class="comment">//key:value</span></span><br><span class="line">        System.out.println(servletContext.getInitParameter(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        <span class="comment">// 删除属性</span></span><br><span class="line">        servletContext.removeAttribute(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取绝对路径(/ 斜杠被服务器解析地址为 :http://ip:port/ 工程名 / 映射到 IDEA 代码的 web 目录 &lt;br/&gt;)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        System.out.println(realPath);<span class="comment">// D:\IDEA_JAVA\JavaWeb\out\artifacts\07_serlvet_war_exploded\</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletTest1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig().getServletContext();</span><br><span class="line">        System.out.println(servletContext.getAttribute(<span class="string">&quot;password&quot;</span>));<span class="comment">// 123，实现了资源的共享</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="6-HTTP-协议"><a href="#6-HTTP-协议" class="headerlink" title="6. HTTP 协议"></a>6. HTTP 协议</h2><h3 id="（1）概念"><a href="#（1）概念" class="headerlink" title="（1）概念"></a>（1）概念</h3><blockquote>
<p>Hyper Text Transfer Protocol 超文本传输协议（传输协议：定义了，客户端和服务器端通信时，发送数据的格式）</p>
</blockquote>
<h3 id="（2）特点"><a href="#（2）特点" class="headerlink" title="（2）特点"></a>（2）特点</h3><ol>
<li>基于 TCP&#x2F;IP 的高级协议</li>
<li>默认端口号：80</li>
<li>基于请求&#x2F;响应模型的：一次请求对应一次响应</li>
<li>无状态的：每次请求之间相互独立，不能交互数据</li>
</ol>
<h3 id="（3）请求消息数据格式"><a href="#（3）请求消息数据格式" class="headerlink" title="（3）请求消息数据格式"></a>（3）请求消息数据格式</h3><p>HTTP 有 7 种请求方式，常用的是 GET 和 POST 请求。</p>
<ul>
<li><p><u>GET 请求</u></p>
<p>1）请求行：包含三部分内容</p>
<p>​    ① 请求的方式：GET<br>​    ② 请求的资源路径[+?+请求参数]<br>​    ③ 请求的协议的版本号： HTTP&#x2F;1.1</p>
<p>​    举例：GET &#x2F;07_servlet&#x2F; HTTP&#x2F;1.1</p>
<p>2）请求头：客户端浏览器告诉服务器一些信息，由不同的键值对组成。</p>
<p>​    Accept： 表示客户端可以接收的数据类型<br>​    Accpet-Languege： 表示客户端可以接收的语言类型<br>​    User-Agent： 表示客户端浏览器的版本信息<br>​    Host： 表示请求时的服务器 ip 和端口号</p>
<p>​    举例：</p>
<p>​    Accept-Language: zh-CN,zh;q&#x3D;0.9 </p>
</li>
<li><p><u>POST 请求</u></p>
<p>1）请求行</p>
<p>​    ① 请求的方式 ： POST</p>
<p>​    ② 请求的资源路径[+?+请求参数]</p>
<p>​    ③ 请求的协议的版本号 ：HTTP&#x2F;1.1</p>
<p>​    举例：POST &#x2F;07_servlet&#x2F;hello1 HTTP&#x2F;1.1</p>
<p>2）请求头：客户端浏览器告诉服务器一些信息，由不同的键值对组成。<br>3）请求空行：就是用于分割POST请求的请求头，和请求体的。<br>4）请求体（正文）：就是发送给服务器的数据（封装POST请求消息的请求参数的,比如username&#x3D;123&amp;password&#x3D;123）</p>
</li>
</ul>
<p>区别：</p>
<table>
<thead>
<tr>
<th align="left">请求方式</th>
<th align="left">GET</th>
<th align="left">POST</th>
</tr>
</thead>
<tbody><tr>
<td align="left">安全性</td>
<td align="left">不安全</td>
<td align="left">相对安全</td>
</tr>
<tr>
<td align="left">url长度</td>
<td align="left">有限制</td>
<td align="left">无限制</td>
</tr>
<tr>
<td align="left">请求参数</td>
<td align="left">请求参数在请求行中，在url后。</td>
<td align="left">请求参数在请求体中</td>
</tr>
<tr>
<td align="left">常见情景</td>
<td align="left">1、form 标签 method&#x3D;get<br/>2、a 标签<br/>3、link 标签引入 css<br/>4、Script 标签引入 js 文件<br/>5、img 标签引入图片<br/>6、iframe 引入 html 页面<br/>7、在浏览器地址栏中输入地址后敲回车</td>
<td align="left">form 标签 method&#x3D;pos</td>
</tr>
</tbody></table>
<h3 id="（4）响应消息数据格式"><a href="#（4）响应消息数据格式" class="headerlink" title="（4）响应消息数据格式"></a>（4）响应消息数据格式</h3><ul>
<li><p>响应行<br>① 响应的协议和版本号  HTTP&#x2F;1.1</p>
<p>② 响应状态码</p>
<ul>
<li>1xx：消息。服务器接收客户端消息，但没有接收完成，等待一段时间后，发送1xx多状态码</li>
<li>2xx：成功。比如200 表示请求成功</li>
<li>3xx：重定向。比如302 表示请求重定向，304表示访问缓存</li>
<li>4xx：客户端错误。比如404 表示请求服务器已经收到了，但是你要的数据不存在（请求地址错误），405一般表示请求方式错误</li>
<li>5xx：服务器端错误。比如500 表示服务器已经收到请求，但是服务器内部错误（代码错误）</li>
</ul>
<p>③ 响应状态描述符</p>
<p>举例：HTTP&#x2F;1.1 200 OK</p>
</li>
<li><p>响应头：key : value 不同的响应头，有其不同含义</p>
</li>
<li><p>空行</p>
</li>
<li><p>响应体（正文）：就是回传给客户端的数据</p>
</li>
</ul>
<h3 id="（5）MIME-类型说明"><a href="#（5）MIME-类型说明" class="headerlink" title="（5）MIME 类型说明"></a>（5）MIME 类型说明</h3><p>MIME 是 HTTP 协议中数据类型，全称是”Multipurpose Internet Mail Extensions” 多功能 Internet 邮件扩充服务。MIME 类型的格式是“大类型&#x2F;小类型”，并与某一种文件的扩展名相对应。</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">描述</th>
<th align="left">典型示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>text</code></td>
<td align="left">表明文件是普通文本，理论上是人类可读</td>
<td align="left">普通文本：<code>text/plain</code>,<br/>超文本标记语言文本:<code>text/html</code>,<br/><code>text/css, </code> <code>text/javascript</code>…</td>
</tr>
<tr>
<td align="left"><code>image</code></td>
<td align="left">表明是某种图像。不包括视频，但是动态图（比如动态gif）也使用image类型</td>
<td align="left">GIF图像：<code>image/gif</code><br/> <code>image/png</code>, <code>image/jpeg</code>….</td>
</tr>
<tr>
<td align="left"><code>audio</code></td>
<td align="left">表明是某种音频文件</td>
<td align="left"><code>audio/midi</code>, <code>audio/mpeg, audio/webm, audio/wav</code>…</td>
</tr>
<tr>
<td align="left"><code>video</code></td>
<td align="left">表明是某种视频文件</td>
<td align="left"><code>video/webm</code>, <code>video/ogg</code></td>
</tr>
<tr>
<td align="left"><code>application</code></td>
<td align="left">表明是某种二进制数据</td>
<td align="left"><code>application/vnd.mspowerpoint</code>,<code>application/xml</code>, <code>application/pdf</code>…</td>
</tr>
</tbody></table>
<h2 id="7-HttpServletRequest-类"><a href="#7-HttpServletRequest-类" class="headerlink" title="7. HttpServletRequest 类"></a>7. HttpServletRequest 类</h2><p><u>作用</u>：</p>
<blockquote>
<p>每次只要有请求进入 Tomcat 服务器，Tomcat 服务器就会把请求过来的 HTTP 协议信息解析好封装到 Request 对象中。然后传递到 service 方法（doGet 和 doPost）中给我们使用。我们可以通过 HttpServletRequest 对象，获取到所有请求的信息。service 方法中的 request 的类型是 ServletRequest，而 doGet&#x2F;doPost 方法的request 的类型是 HttpServletRequest，HttpServletRequest 是 ServletRequest 的子接口，功能和方法更加强大。</p>
</blockquote>
<p> HttpServletRequest对象代表客户端的请求，当客户端通过HTTP协议访问服务器时，HTTP请求头中的所有信息都封装在这个对象中。</p>
<p><u>request对象继承体系结构</u>：<br>    ServletRequest        –    接口<br>        |    继承<br>    HttpServletRequest    – 接口<br>        |    实现<br>    org.apache.catalina.connector.RequestFacade 类(tomcat)</p>
<p><u>常用方法</u>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>getMethod()</td>
<td>获取请求的方式 GET 或 POST</td>
</tr>
<tr>
<td>getContextPath()</td>
<td>获取请求的工程路径（&#x2F;工程名）（动态获取工程路径）</td>
</tr>
<tr>
<td>getRequestURI()</td>
<td>获取请求的资源路径（统一资源标识符）（&#x2F;工程名&#x2F;资源名）</td>
</tr>
<tr>
<td>getRequestURL()</td>
<td>获取请求的统一资源定位符（绝对路径 <a href="http://ip:port/工程名/资源名）">http://ip:port/工程名/资源名）</a></td>
</tr>
<tr>
<td>getRemoteHost()</td>
<td>获取客户端的 ip 地址</td>
</tr>
<tr>
<td>getHeader(String name)</td>
<td>获取请求头</td>
</tr>
<tr>
<td>getParameter(string name)</td>
<td>获取请求的参数</td>
</tr>
<tr>
<td>getParameterValues(string name)</td>
<td>获取请求的参数（多个值的时候使用，比如表单的复选框）</td>
</tr>
<tr>
<td>setAttribute(key, value)</td>
<td>设置域数据</td>
</tr>
<tr>
<td>getAttribute(key)</td>
<td>获取域数据</td>
</tr>
<tr>
<td>removeAttribute(key)</td>
<td>删除域数据</td>
</tr>
<tr>
<td>getRequestDispatcher()</td>
<td>获取请求转发对象</td>
</tr>
<tr>
<td>setcharacterEncoding(“UTF-8”)</td>
<td>中文转码</td>
</tr>
<tr>
<td>getServletContext()</td>
<td>获取ServletContext对象</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取请求方法</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">        System.out.println(<span class="string">&quot;请求方式：&quot;</span> + method);<span class="comment">//请求方式：GET</span></span><br><span class="line">        <span class="comment">// 获取资源路径</span></span><br><span class="line">        System.out.println(<span class="string">&quot;资源路径：&quot;</span> + request.getRequestURI());<span class="comment">//资源路径：/07_servlet/servlet1111</span></span><br><span class="line">        <span class="comment">// 获取绝对路径</span></span><br><span class="line">        System.out.println(<span class="string">&quot;URL：&quot;</span> + request.getRequestURL());<span class="comment">//URL：http://localhost:8080/07_servlet/servlet1111</span></span><br><span class="line">        <span class="comment">// 获取客户端ip地址</span></span><br><span class="line">        System.out.println(<span class="string">&quot;客户端ip地址：&quot;</span> + request.getRemoteHost());<span class="comment">//客户端ip地址：127.0.0.1</span></span><br><span class="line">        <span class="comment">// 获取请求头</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Host：&quot;</span> + request.getHeader(<span class="string">&quot;Host&quot;</span>));<span class="comment">//Host：localhost:8080</span></span><br><span class="line">        <span class="comment">// 获取请求体</span></span><br><span class="line">        System.out.println(<span class="string">&quot;用户名：&quot;</span> + request.getParameter(<span class="string">&quot;username&quot;</span>));<span class="comment">//用户名：张三</span></span><br><span class="line">        String[] hobbies = request.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;兴趣爱好：&quot;</span>+ Arrays.asList(hobbies) );<span class="comment">//兴趣爱好：[java, Python]</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><u>注意中文乱码问题</u>：<br>get 方式：tomcat 8 已经将 get 方式乱码问题解决了<br>post 方式：仍会乱码，解决方法是在获取参数前，设置 request 的编码 request.setCharacterEncoding(“utf-8”);</p>
<p><u>请求转发</u>：</p>
<p>请求转发是指，一个 web 资源收到客户端请求后，通知服务器去调用另外一个 web 资源进行处理。</p>
<ul>
<li><p>步骤：</p>
<ul>
<li>通过 request 对象获取请求转发器对象：RequestDispatcher getRequestDispatcher(String path)</li>
<li>使用 RequestDispatcher 对象来进行转发：forward(ServletRequest request, ServletResponse response)</li>
</ul>
</li>
<li><p>特点：</p>
<ul>
<li>浏览器地址栏路径不发生变化（因为是在服务端实现的）</li>
<li>只能转发到当前服务器内部资源中，不可访问工程以外的资源</li>
<li>转发是一次请求，可以使用 request 对象来共享数据</li>
<li>可以转发到 WEB-INF 目录下</li>
</ul>
</li>
</ul>
<p>域对象：一个有作用范围的对象，可以在范围内共享数据</p>
<p><u>request 域：代表一次请求的范围，一般用于请求转发的多个资源中共享数据。</u></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServletTest</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 请求转发必须要以斜杠打头， / 斜杠表示地址为： http://ip:port/ 工程名 / , 映射到 IDEA 代码的web目录</span></span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;/servlet2&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServletTest</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;在转发后的程序中处理&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><u>绝对路径和相对路径</u>：</p>
<p>在 javaWeb 中，路径分为相对路径和绝对路径两种：</p>
<ul>
<li><p>相对路径：</p>
<ul>
<li>.&#x2F;表示当前目录（.&#x2F;可以省略不写）</li>
<li>..&#x2F;表示上一级目录</li>
<li>资源名   表示当前目录&#x2F;资源名</li>
</ul>
</li>
<li><p>绝对路径：<a href="http://ip:port/工程路径/资源路径">http://ip:port/工程路径/资源路径</a></p>
</li>
</ul>
<p>在 web 中 &#x2F; 斜杠 是一种绝对路径。</p>
<ul>
<li><p>&#x2F; 斜杠 如果被浏览器解析，得到的地址是：<a href="http://ip:port/">http://ip:port/</a></p>
<p>​    response.sendRediect(“&#x2F;”); 把斜杠发送给浏览器解析。得到 <a href="http://ip:port/">http://ip:port/</a></p>
<p>​    建议工程路径动态获取，使用 request.getContextPath()</p>
<p>​    response.sendRediect(request.getContextPath() + “&#x2F;资源名”)</p>
</li>
<li><p>&#x2F; 斜杠 如果被服务器解析，得到的地址是：<a href="http://ip:port/工程路径/">http://ip:port/工程路径/</a></p>
<p>​    1、&lt;url-pattern&gt;&#x2F;servlet1</url-pattern><br>​    2、servletContext.getRealPath(“&#x2F;”);<br>​    3、request.getRequestDispatcher(“&#x2F;”);</p>
</li>
</ul>
<h2 id="8-HttpServletResponse-类"><a href="#8-HttpServletResponse-类" class="headerlink" title="8. HttpServletResponse 类"></a>8. HttpServletResponse 类</h2><p><u>作用</u>: </p>
<blockquote>
<p>HttpServletResponse 类和 HttpServletRequest 类一样。每次请求进来，Tomcat 服务器都会创建一个 Response 对象传递给 Servlet 程序去使用。HttpServletRequest 表示请求过来的信息，HttpServletResponse 表示所有响应的信息，我们如果需要设置返回给客户端的信息，都可以通过 HttpServletResponse 对象来进行设置。</p>
</blockquote>
<p>HttpServletResponse是对服务器的响应对象。这个对象中封装了向客户端发送数据、发送响应头，发送响应状态码的方法。</p>
<p><u>常用方法</u>： </p>
<table>
<thead>
<tr>
<th>方法</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td>getOutputStream()</td>
<td align="left">用于返回 Servlet 引擎创建的字节输出流对象，Servlet 程序可以按字节形式输出响应正文。常用于下载（传递二进制数据）</td>
</tr>
<tr>
<td>getWriter()</td>
<td align="left">用于返回 Servlet 引擎创建的字符输出流对象，Servlet 程序可以按字符形式输出响应正文。常用于回传字符串（常用）</td>
</tr>
<tr>
<td>addHeader(String name,String value)</td>
<td align="left">该方法是设置有多个值的响应头,参数 name 表示响应头名称,参数 value 表示响应头的值</td>
</tr>
<tr>
<td>setStatus(int value)</td>
<td align="left">设置临时定向响应码</td>
</tr>
<tr>
<td>setHeader(String name,String value)</td>
<td align="left">该方法是设置只有一个值的响应头,参数 name 表示响应头名称,参数value表示响应头的值</td>
</tr>
<tr>
<td>setContentType(“text&#x2F;html; charset&#x3D;UTF-8”);</td>
<td align="left">同时设置服务器和客户端都使用 UTF-8 字符集，解决中文乱码问题</td>
</tr>
</tbody></table>
<p>注意：getOutputStream() 和 getWriter() 这两个方法互相排斥，调用了其中的任何一个方法后，就不能再调用另一方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向客户端回传数据</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//解决中文乱码问题</span></span><br><span class="line"><span class="comment">//        方式一：</span></span><br><span class="line"><span class="comment">//        resp.setCharacterEncoding(&quot;UTF-8&quot;);//设置服务器字符集为 UTF-8</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;Content-Type&quot;,&quot;text/html;UTF-8&quot;);//通过响应头，设置浏览器也使用 UTF-8 字符集</span></span><br><span class="line"><span class="comment">//        方式二：【推荐】同时设置服务器和客户端都使用 UTF-8 字符集，还设置了响应头</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html; charset=UTF-8&quot;</span>);<span class="comment">// 此方法一定要在获取流对象之前调用才有效</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.write(<span class="string">&quot;回传给客户端的数据&quot;</span>.toCharArray());</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><u>请求重定向</u>：</p>
<p>重定向指的是一个 web 资源收到客户端请求后，web 服务器通知客户端去访问另外一个web资源。（可能之前的地址已经被废弃）</p>
<p>实现的原理就是给客户端返回了 302 状态码和 location 头。</p>
<ul>
<li><p>步骤：<br>方式一：</p>
<ul>
<li>设置状态码为 302。 response.setStatus(302);</li>
<li>设置响应头 location。 response.setHeader(“location”,”新的地址”);：</li>
</ul>
<p>方式二【推荐】：<code>response.sendRedirect(&quot;新的地址&quot;)</code>;</p>
</li>
</ul>
<ul>
<li>特点:<ul>
<li>地址栏发生变化（因为是在客户端实现的）</li>
<li>重定向可以访问其他站点(服务器)的资源</li>
<li>重定向是两次请求。不能使用 request 对象来共享数据。</li>
</ul>
</li>
</ul>
<p><u>转发 forward 和重定向 Redirect 的区别</u></p>
<table>
<thead>
<tr>
<th></th>
<th>转发</th>
<th>重定向</th>
</tr>
</thead>
<tbody><tr>
<td>浏览器URL地址</td>
<td>转发是在服务器端实现的。所以请求转发过程结束后，<strong>浏览器地址栏保持初始的URL地址不变。</strong></td>
<td>而重定向是在客户端实现的。所以调用重定向的访问过程结束后，<strong>浏览器地址栏中显示的URL会发生改变</strong>，由初始的URL 地址变成重定向的目标 URL。</td>
</tr>
<tr>
<td>访问资源范围</td>
<td>只能将请求转发给同一个WEB应用中的其他资源；</td>
<td>还可以重定向到同一个站点上的其他应用程序中的资源，甚至是使用绝对URL重定向到其他站点的资源。</td>
</tr>
<tr>
<td>请求次数</td>
<td>forward 方法的调用者与被调用者之间共享相同的 request 对象和 response 对象，它们属于同一个访问请求和响应过程；</td>
<td>sendRedirect方法调用者与被调用者使用各自的 request 对象和 response 对象，它们属于两个独立的访问请求和响应过程。也就是说，重定向生成了新的 request 对象和 response对象。</td>
</tr>
<tr>
<td>客户端是否可见</td>
<td>forward 方法在服务器端将请求转发给另外一个资源，相当过程于对客户端不可见。</td>
<td>sendRedirect 方法对浏览器的请求直接作出响应，响应的结果就是告诉浏览器去重新发出对另外一个 URL 的访问请求</td>
</tr>
</tbody></table>
<h1 id="四-文件上传与下载"><a href="#四-文件上传与下载" class="headerlink" title="四. 文件上传与下载"></a>四. 文件上传与下载</h1><h2 id="1-文件上传"><a href="#1-文件上传" class="headerlink" title="1. 文件上传"></a>1. 文件上传</h2><p>文件上传主要是将文件通过 IO 流传放到服务器的某一个特定的文件夹下。（就是将客户端的数据发送到服务器上的操作）</p>
<h3 id="（1）HTML-页面"><a href="#（1）HTML-页面" class="headerlink" title="（1）HTML 页面"></a>（1）HTML 页面</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;链接&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> &gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">（表单要求） </span></span><br><span class="line"><span class="comment">1.设置enctype=&quot;multipart/form-data&quot;，它不对字符进行编码，用于发送二进制的文件（即所有文件类型，如视频、图片、音乐、文档都可以用此类型entype）。</span></span><br><span class="line"><span class="comment">2.请求方式必须为post。</span></span><br><span class="line"><span class="comment">3.需要提供文件上传框(组件) &lt;input type=&quot;file&quot;&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/08_upload&amp;download/upload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> &gt;</span></span><br><span class="line">    用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    头像：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;uploadpicture&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;上传头像&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="（2）导入-jar-包"><a href="#（2）导入-jar-包" class="headerlink" title="（2）导入 jar 包"></a>（2）导入 jar 包</h3><p>需要导入两个 jar 包（commons-fileupload-1.2.1.jar、commons-io-1.4.jar）核心类有：</p>
<p><u>DiskFileItemFactory</u>：创建 FileItem 对象的工厂</p>
<p><u>ServletFileUpload</u>：用于解析上传的数据，并将表单中每个输入项封装成一个FileItem 对象中。常用方法有：</p>
<ul>
<li>boolean isMultipartContent(HttpServletRequest request)：判断上传表单是否为multipart&#x2F;form-data类型</li>
<li><code>List parseRequest(HttpServletRequest request</code>：解析request对象，并把表单中的每一个输入项包装成一个fileItem 对象，并返回一个保存了所有FileItem的list集合。</li>
</ul>
<p><u>FileItem</u>：表示每一个表单项，常用方法有：</p>
<ul>
<li><code>String getFieldName()</code>：用于返回表单标签name属性值。</li>
<li><code>String getName()</code>：用于获得文件上传字段中的文件名。</li>
<li><code>String getString()</code>：获取字段的内容。如果是普通字段，则是它的value值；如果是文件字段，则是文件内容。</li>
<li>String getContentType()：获取上传的文件类型，例如text&#x2F;plain、image。如果是普通字段，则返回null。</li>
<li>long getSize()：获取字段内容的大小，单位是字节。</li>
<li><code>boolean isFormField()</code>：判断是否是普通表单字段，若是，返回true，否则返回false(即上传的是文件类型)。</li>
<li>InputStream getInputStream()：获得文件内容的输入流。如果是普通字段，则返回value值的输入流。</li>
<li><code>void write( file )</code>：将上传的文件写到 参数 file 所指向抽硬盘位置 。</li>
</ul>
<h3 id="（3）Servlet页面"><a href="#（3）Servlet页面" class="headerlink" title="（3）Servlet页面"></a>（3）Servlet页面</h3><p>实现步骤：</p>
<ul>
<li><p>创建一个 DiskFileItemFactory工厂，DiskFileItemFactory 工厂名&#x3D; new DiskFileItemFactory();</p>
</li>
<li><p>创建文件上传解析器，ServletFileUpload 解析器名 &#x3D; new ServletFileUpload(factory);</p>
</li>
<li><p>使用解析器解析request对象，调用parseRequest方法解析request对象，得到一个保存了所有上传内容的List对象。</p>
</li>
<li><p>对list进行迭代，每迭代一个FileItem对象，调用其isFormField方法判断是否是上传文件：</p>
<p>​        如果为普通表单字段，则调用getFieldName()、getString()方法得到字段名和字段值。<br>​        如果为上传文件，则调用write( file)方法将上传数据写入磁盘</p>
<p>注意：中文乱码问题解决：</p>
<ol>
<li>文件名中文乱码处理：解析器名.setHeaderEncoding(“utf-8”) 或 request.setCharacterEncoding(“utf-8”);</li>
<li>表单普通字段中文乱码处理：FileItem.getString(“utf-8”);</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Upload</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        1.创建工厂类：</span></span><br><span class="line">        <span class="type">DiskFileItemFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DiskFileItemFactory</span>();</span><br><span class="line"><span class="comment">//        2.创建解析器：</span></span><br><span class="line">        <span class="type">ServletFileUpload</span> <span class="variable">upload</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletFileUpload</span>(factory);</span><br><span class="line">        	<span class="comment">//解决上传文件名的中文乱码                       </span></span><br><span class="line">            upload.setHeaderEncoding(<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//           3.使用解析器解析request对象：</span></span><br><span class="line">            List&lt;FileItem&gt; list = upload.parseRequest(req);</span><br><span class="line"><span class="comment">//           4.遍历</span></span><br><span class="line">            <span class="keyword">for</span> (FileItem fileItem : list) &#123;</span><br><span class="line">                <span class="comment">//判断是否是普通表单字段，若是，返回true，否则返回false。</span></span><br><span class="line">                <span class="keyword">if</span> (fileItem.isFormField()) &#123;</span><br><span class="line">                    System.out.println(fileItem.getFieldName());<span class="comment">//获取表单项的name的属性值。</span></span><br><span class="line">                    System.out.println(fileItem.getString(<span class="string">&quot;utf-8&quot;</span>));<span class="comment">//获取字段的内容。如果是普通字段，则是它的value值；如果是文件字段，则是文件内容。</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (fileItem.getName() != <span class="string">&quot;&quot;</span>) &#123;<span class="comment">//获取文件字段的文件名,如果没有上传，则返回空串。</span></span><br><span class="line">                        <span class="comment">//将文件写入指定磁盘</span></span><br><span class="line">                       fileItem.write(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\IDEA_JAVA\\JavaWeb\\08_upload&amp;download\\b.jpg&quot;</span>));</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                       System.out.println(<span class="string">&quot;没有上传文件&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-文件下载"><a href="#2-文件下载" class="headerlink" title="2. 文件下载"></a>2. 文件下载</h2><p>文件下载主要是将文件从服务器的特定的文件夹下的文件通过 IO 流下载到本地。（就是将服务器的数据下载到客户端上的操作）</p>
<p>   步骤：</p>
<ul>
<li><p><u>设置响应头信息</u>，告诉客户端收到的数据是用于下载使用(如果不设置，文件会直接在页面显示，而不是下载)</p>
<p>Content-Disposition 响应头，表示收到的数据怎么处理<br>attachment 表示附件，表示下载使用<br>filename 表示指定下载的文件名（此名字只是用户下载后显示的名字，可以与服务器文件的名字不一样）</p>
<p>示例：resp.setHeader(“Content-Disposition”, “attachment; filename&#x3D;” + “指定所下载文件的名称”);</p>
<p>注意：为了解决中文乱码问题，可以将上面示例改为：</p>
<p>resp.setHeader(“Content-Disposition”, “attachment; filename&#x3D;” + URLEncoder.encode(“指定所下载文件的名称”, “UTF-8”));</p>
</li>
<li><p><u>获取文件输入流</u></p>
<p>示例：InputStream inputStream &#x3D; new FileInputStream(new File(“文件路径”));</p>
</li>
<li><p><u>获取响应输出流</u></p>
<p>示例：OutputStream outputStream &#x3D; resp.getOutputStream();</p>
</li>
<li><p><u>将文件回传到客户端</u>（即实现文件的复制）</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/08_upload&amp;download/download&quot;</span> <span class="attr">name</span>=<span class="string">&quot;filename&quot;</span>&gt;</span>下载图片<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Download</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//1、设置响应头信息</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment; filename=&quot;</span> + URLEncoder.encode(<span class="string">&quot;随便&quot;</span>, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        <span class="comment">//2.获取文件输入流</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext().getResourceAsStream(<span class="string">&quot;/&quot;</span> + a.jpg);</span><br><span class="line"><span class="comment">//        InputStream inputStream = new FileInputStream(new File(&quot;D:\\IDEA_JAVA\\JavaWeb\\08_upload&amp;download\\b.jpg&quot;));</span></span><br><span class="line">        <span class="comment">//3.获取响应的输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line">        <span class="comment">//4 、把文件内容回传给客户端</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = inputStream.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            outputStream.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="五-JSP"><a href="#五-JSP" class="headerlink" title="五. JSP"></a>五. JSP</h1><blockquote>
<p>JSP全名为Java Server Pages，即 java 服务器页面。JSP 是⼀种基于⽂本的程序，其特点就是 HTML 和 Java 代码共同存在！Servlet 程序回传 html 页面数据是一件非常繁锁的事情。开发成本和维护成本都极高，而 jsp 的主要作用就是代替 Servlet 程序回传 html 页面的数据。</p>
</blockquote>
<p>jsp 页面本质上是一个 Servlet 程序。<br>当我们第一次访问 jsp 页面的时候。Tomcat 服务器会帮我们把 jsp 页面翻译成为一个 java 源文件。并且对它进行编译成为.class 字节码程序。而java源文件中的类间接的继承了 HttpServlet 类。</p>
<h2 id="1-jsp-的语法"><a href="#1-jsp-的语法" class="headerlink" title="1. jsp 的语法"></a>1. jsp 的语法</h2><h3 id="（1）指令"><a href="#（1）指令" class="headerlink" title="（1）指令"></a>（1）指令</h3><ul>
<li><p>作用：用于配置JSP页面，导入资源文件</p>
</li>
<li><p>格式：&lt;%@ 指令名称 属性名1&#x3D;属性值1 属性名2&#x3D;属性值2 … %&gt;</p>
</li>
<li><p>分类：</p>
<p><u>page</u>： 配置JSP页面</p>
<ul>
<li>&lt;%@ page contentType&#x3D;”text&#x2F;html;charset&#x3D;UTF-8” language&#x3D;”java” %&gt;</li>
</ul>
<ul>
<li>contentType：等同于response.setContentType()<ol>
<li>设置响应体的mime类型以及字符集</li>
<li>设置当前jsp页面的编码（只能是高级的IDE才能生效，如果使用低级工具，则需要设置pageEncoding属性设置当前页面的字符集）</li>
</ol>
</li>
<li>import：导包</li>
<li>errorPage：当前页面发生异常后，会自动跳转到指定的错误页面</li>
<li>isErrorPage：标识当前也是是否是错误页面。<ul>
<li>true：是，可以使用内置对象exception</li>
<li>false：否。默认值。不可以使用内置对象exception</li>
</ul>
</li>
</ul>
<p><u>include</u>： 页面包含的。导入页面的资源文件</p>
<ul>
<li>&lt;%@include file&#x3D;”top.jsp”%&gt;</li>
</ul>
<p><u>taglib</u>： 导入资源</p>
<ul>
<li>&lt;%@ taglib prefix&#x3D;”c” uri&#x3D;”<a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core&quot;</a> %&gt;</li>
<li>prefix：前缀，自定义的</li>
</ul>
</li>
</ul>
<h3 id="（2）注释"><a href="#（2）注释" class="headerlink" title="（2）注释"></a>（2）注释</h3><ol>
<li>html注释：<!-- -->:只能注释html代码片段</li>
<li>jsp注释：推荐使用<br>&lt;%– –%&gt;：可以注释所有</li>
</ol>
<h3 id="（3）脚本"><a href="#（3）脚本" class="headerlink" title="（3）脚本"></a>（3）脚本</h3><ul>
<li><code>&lt;% java语句 %&gt;</code>（代码脚本）【定义局部变量，编写语句】<ul>
<li>代码脚本翻译之后都在_jspService 方法中</li>
<li>代码脚本由于翻译到_jspService()方法中，所以在jspService()方法中的现有对象都可以直接使用。</li>
<li>可以由多个代码脚本块组合完成一个完整的 java 语句。</li>
<li>java语句会在控制台输出。</li>
<li>如果没有&lt;% %&gt;，则会被认为是html文本，输出到页面上。</li>
</ul>
</li>
<li><code>&lt;%!声明java代码 %&gt;</code>（声明脚本）【定义类或⽅法，但是没⼈这样⽤！】</li>
<li><code>&lt;%=表达式 %&gt;</code>（表达式脚本）【输出各种类型的变量，int、double、String、Object等】<ul>
<li>表达式结果会在html页面上展示。</li>
<li>所有的表达式脚本都会被翻译到_jspService() 方法中_</li>
<li>表达式脚本都会被翻译成为 out.print()输出到页面上</li>
<li>由于表达式脚本翻译的内容都在_jspService() 方法中,所以jspService()方法中的对象都可以直接使用。</li>
<li>表达式脚本中的表达式不能以分号结束。</li>
</ul>
</li>
</ul>
<h2 id="2-jsp-内置对象"><a href="#2-jsp-内置对象" class="headerlink" title="2. jsp 内置对象"></a>2. jsp 内置对象</h2><p>JSP 的内置对象即：在jsp页面中不需要获取和创建，可以直接使用的对象</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>真实类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContext</td>
<td>当前页面共享数据，还可以获取其他八个内置对象</td>
</tr>
<tr>
<td>request</td>
<td>HttpServletRequest</td>
<td>一次请求访问的多个资源(转发)</td>
</tr>
<tr>
<td>session</td>
<td>HttpSession</td>
<td>一次会话的多个请求间</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext</td>
<td>所有用户间共享数据</td>
</tr>
<tr>
<td>response</td>
<td>HttpServletResponse</td>
<td>响应对象</td>
</tr>
<tr>
<td>page</td>
<td>Object</td>
<td>当前页面(Servlet)的对象  this</td>
</tr>
<tr>
<td>out</td>
<td>JspWriter</td>
<td>输出对象，数据输出到页面上</td>
</tr>
<tr>
<td>config</td>
<td>ServletConfig</td>
<td>Servlet的配置对象</td>
</tr>
<tr>
<td>exception</td>
<td>Throwable</td>
<td>异常对象</td>
</tr>
</tbody></table>
<h2 id="3-jsp-域对象"><a href="#3-jsp-域对象" class="headerlink" title="3. jsp 域对象"></a>3. jsp 域对象</h2><p>jsp的九大内置对象中有四个域对象：pageContext、request、session、application。</p>
<p>它们从小到大的顺序分别是：pageContext 、Request、Session 、application</p>
<p>使用的优先顺序是从小到大：pageContext 、Request、Session 、application</p>
<p>out和Response输出的区别。<br>    out输出都写到out缓冲区中，response输出都写到Respnse的缓冲区中</p>
<p>​    response.getWriter()数据输出永远在out.write()之前</p>
<p>当jsp页面中所有代码都执行完成之后。全做以下两个操作<br>1、执行out.flush()操作，把out缓冲区中的数据都追加到Response缓冲区中<br>2、执行Response的flush()操作。把Response缓冲区中的数据，都写给客户端。</p>
<p>在jsp页面中，统一使用out来进行输出。 </p>
<p>out.write()可以输出字符串<br>out.print()可以输出任意数据</p>
<h2 id="4-EL-表达式"><a href="#4-EL-表达式" class="headerlink" title="4. EL 表达式"></a>4. EL 表达式</h2><p>（1）概念：Expression Language 表达式语言</p>
<p>（2）作用：<u>代替 jsp 页面中的表达式脚本在 jsp 页面中进行数据的输出</u>。因为 EL 表达式在输出数据时比 jsp 的表达式脚本要简洁很多。</p>
<p>（3）语法：${表达式}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注意：jsp默认支持el表达式的。如果要忽略el表达式</span><br><span class="line">方式一：设置jsp中page指令中：isELIgnored=&quot;true&quot; 忽略当前jsp页面中所有的el表达式</span><br><span class="line">方式二：\$&#123;表达式&#125; ：忽略当前这个el表达式</span><br></pre></td></tr></table></figure>

<p>（4）使用：</p>
<ul>
<li><p><u>运算</u></p>
<p>算数运算符： + - * &#x2F; %</p>
<p>比较运算符： &gt; &lt; &gt;&#x3D; &lt;&#x3D; &#x3D;&#x3D; !&#x3D;</p>
<p>逻辑运算符： &amp;&amp;(and) ||(or) !(not)</p>
<p>空运算符： empty（用于判断字符串、集合、数组对象是否为null或者长度是否为0）</p>
<p>举例：${empty list}:判断字符串、集合、数组对象是否为null或者长度为0</p>
</li>
<li><p><u>获取值</u>（EL表达式只能从域对象中获取值）</p>
<ul>
<li><p>① ${域名称.键名}：从指定域中获取指定键的值</p>
<p>域名称：</p>
<p>​    pageScope        –&gt; pageContext</p>
<p>​    requestScope     –&gt; request</p>
<p>​    sessionScope     –&gt; session</p>
<p>​    applicationScope –&gt; application（ServletContext）</p>
<p>举例：在request域中存储了name&#x3D;张三，获取值：${requestScope.name}</p>
</li>
<li><p>②${键名}：表示依次从最小的域中查找是否有该键对应的值，直到找到为止。</p>
</li>
<li><p>③获取对象、List集合、Map集合的值</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">对象：$&#123;域名称.键名.属性名&#125;（本质上会去调用对象的getter方法）</span><br><span class="line">List集合：$&#123;域名称.键名[索引]&#125;</span><br><span class="line">Map集合：$&#123;域名称.键名.key名称&#125;、$&#123;域名称.键名[<span class="string">&quot;key名称&quot;</span>]&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><u>隐式对象</u>：（EL表达式中有11个隐式对象）</p>
<ol>
<li>pageContext 对应于JSP⻚⾯中的pageContext对象（注意：取的是pageContext对象）</li>
<li>pageScope 代表page域中⽤于保存属性的Map对象</li>
<li>requestScope 代表request域中⽤于保存属性的Map对象</li>
<li>sessionScope 代表session域中⽤于保存属性的Map对象</li>
<li>applicationScope 代表application域中⽤于保存属性的Map对象</li>
<li>param 表示⼀个保存了所有请求参数的Map对象</li>
<li>paramValues表示⼀个保存了所有请求参数的Map对象，它对于某个请求参数，返回的是⼀个string[]</li>
<li>header 表示⼀个保存了所有http请求头字段的Map对象</li>
<li>headerValues同上，返回string[]数组。</li>
<li>cookie 表示⼀个保存了所有cookie的Map对象</li>
<li>initParam 表示⼀个保存了所有web应⽤初始化参数的map对象</li>
</ol>
</li>
</ul>
<h2 id="5-JSTL-标签"><a href="#5-JSTL-标签" class="headerlink" title="5. JSTL 标签"></a>5. JSTL 标签</h2><p>（1）概念：JavaServer Pages Tag Library  JSP标准标签库（是由Apache组织提供的开源的免费的jsp标签）</p>
<p>（2）作用：EL 表达式主要是为了替换 jsp 中的表达式脚本，而标签库则是为了替换代码脚本。</p>
<p>（3）使用步骤：</p>
<p>​        ①导入jstl相关jar包</p>
<p>​        ②引入标签库：taglib指令：  &lt;%@ taglib %&gt;</p>
<p>​        ③使用标签</p>
<p>（4）常用的JSTL标签</p>
<ul>
<li><p>&lt;c:if &#x2F;&gt;:相当于java代码的if语句</p>
<ul>
<li><p>属性：</p>
<p>test 必须属性，接受boolean表达式，如果表达式为true，则显示if标签体内容，如果为false，则不显示标签体内容</p>
<p>一般情况下，test属性值会结合el表达式一起使用</p>
</li>
<li><p>注意：c:if标签没有else情况，想要else情况，则可以在定义一个c:if标签</p>
</li>
</ul>
</li>
<li><p>&lt; c:choose&gt; &lt; c:when&gt; &lt; c:otherwise&gt;:相当于java代码的switch语句</p>
<ul>
<li>使用choose标签声明                     相当于switch声明</li>
<li>使用when标签做判断                     相当于case</li>
<li>使用otherwise标签做其他情况的声明        相当于default</li>
</ul>
</li>
<li><p>&lt;c:forEach &#x2F;&gt;:相当于java代码的for语句</p>
<ol>
<li>完成重复的操作<br>for(int i &#x3D; 0; i &lt; 10; i ++){}<ul>
<li>属性：<br>begin：开始值<br>end：结束值<br>var：临时变量<br>step：步长<br>varStatus:循环状态对象<br>index:容器中元素的索引，从0开始<br>count:循环次数，从1开始</li>
</ul>
</li>
<li>遍历容器<br>List&lt;User&gt; list;<br>for(User user : list){}<ul>
<li>属性：<br>items:容器对象<br>var:容器中元素的临时变量<br>varStatus:循环状态对象<br>index:容器中元素的索引，从0开始<br>count:循环次数，从1开始</li>
</ul>
</li>
</ol>
</li>
</ul>
<h1 id="六-Listener"><a href="#六-Listener" class="headerlink" title="六. Listener"></a>六. Listener</h1><h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h2><blockquote>
<p>web 的三大组件之一。（JavaWeb 的三大组件分别是：Servlet 程序、Filter 过滤器、Listener 监听器。）</p>
<p>Listener 它是 JavaEE 的规范，就是接口。</p>
<p>监听器的作用是，<strong>监听某种事物的变化。然后通过回调函数，反馈给客户（程序）去做一些相应的处理。</strong></p>
</blockquote>
<h2 id="2-事件监听机制"><a href="#2-事件监听机制" class="headerlink" title="2. 事件监听机制"></a>2. 事件监听机制</h2><p>事件    ：一件事情</p>
<p>事件源 ：事件发生的地方</p>
<p>监听器 ：一个对象</p>
<p>注册监听：将事件、事件源、监听器绑定在一起。 当事件源上发生某个事件后，执行监听器代码</p>
<h2 id="3-ServletContextListener-监听器"><a href="#3-ServletContextListener-监听器" class="headerlink" title="3. ServletContextListener 监听器"></a>3. ServletContextListener 监听器</h2><p>ServletContextListener 它可以监听 ServletContext 对象的创建和销毁。</p>
<p>ServletContext 对象在 web 工程启动的时候创建，在 web 工程停止的时候销毁。</p>
<p>监听到创建和销毁之后都会分别调用 ServletContextListener 监听器的方法反馈。</p>
<ul>
<li><p>方法：</p>
<ul>
<li>void contextDestroyed(ServletContextEvent sce) ：ServletContext对象被销毁之前会调用该方法</li>
<li>void contextInitialized(ServletContextEvent sce) ：ServletContext对象创建后会调用该方法</li>
</ul>
</li>
<li><p>步骤：</p>
<ol>
<li><p>定义一个类，实现 ServletContextListener 接口</p>
</li>
<li><p>实现其两个回调方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServletContextListenerImpl</span> <span class="keyword">implements</span> <span class="title class_">ServletContextListener</span> &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextInitialized</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;ServletContext 对象被创建了&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextDestroyed</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;ServletContext 对象被销毁了&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
</li>
</ol>
<p>  方式一：web.xml</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置监听器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>全类名<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>  方式二：注解：@WebListener</p>
</li>
</ul>
<h1 id="七-Cookie"><a href="#七-Cookie" class="headerlink" title="七. Cookie"></a>七. Cookie</h1><h2 id="1-名词解释-3"><a href="#1-名词解释-3" class="headerlink" title="1. 名词解释"></a>1. 名词解释</h2><p><u>概念</u>：Cookie 是客户端会话技术，用于将数据保存到客户端，客户端有了 Cookie 后，<strong>每次请求都会将此 Cookie 中数据发送给服务器。</strong>浏览器对于单个cookie 的大小有限制(4kb) 以及对同一个域名下的总 cookie 数量也有限制(20个)</p>
<p><u>作用</u>：Cookie 可以在不登录的情况下，完成服务器对客户端的身份识别，比如用户在第二次登录一个页面时，可以记住用户的账号、密码等，用户就无需重新输入。</p>
<p>就像我们去超市买东西，没有积分卡的情况下，我们买完东西之后，超市没有我们的任何消费信息，但我们办了积分卡之后，超市就有了</p>
<p>我们的消费信息。cookie 就像是积分卡，可以保存积分，商品就是我们的信息，超市的系统就像服务器后台，http协议就是交易的过程。</p>
<h2 id="2-基本使用-1"><a href="#2-基本使用-1" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h2><ul>
<li>创建 Cookie 对象，绑定数据  new Cookie(String name, String value) </li>
<li>发送 Cookie 对象  response.addCookie(Cookie cookie) </li>
<li>获取 Cookie，拿到数据  Cookie[]  request.getCookies()</li>
</ul>
<p>注意：一次可以创建多个 Cookie 对象，使用 response 调用多次 addCookie 方法发送 cookie 即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/cookieDemo1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieDemo1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//1.创建Cookie对象</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="comment">//2.发送Cookie</span></span><br><span class="line">        response.addCookie(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/cookieDemo2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieDemo2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">       <span class="comment">//3. 获取Cookie</span></span><br><span class="line">        Cookie[] cs = request.getCookies();</span><br><span class="line">        <span class="comment">//获取数据，遍历Cookies</span></span><br><span class="line">        <span class="keyword">if</span>(cs != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie c : cs) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> c.getName();</span><br><span class="line">                <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> c.getValue();</span><br><span class="line">                System.out.println(name+<span class="string">&quot;:&quot;</span>+value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//先访问cookieDemo1，再访问cookieDemo2，可以获取cookieDemo1设置的cookie信息。</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/SniperCoding/images_one/JavaWeb/20220328153501.png" alt="img"></p>
<h2 id="3-Cookie-生命控制"><a href="#3-Cookie-生命控制" class="headerlink" title="3. Cookie 生命控制"></a>3. Cookie 生命控制</h2><p>cookie 在浏览器中保存时间：</p>
<ul>
<li>默认情况下，当浏览器关闭后，Cookie 数据被销毁</li>
<li>持久化存储：setMaxAge(int seconds)<ol>
<li>正数：将 Cookie 数据写到硬盘的文件中。持久化存储。并指定 cookie 存活时间，时间到后，cookie 文件自动失效</li>
<li>负数：默认值</li>
<li>零：删除 cookie 信息</li>
</ol>
</li>
</ul>
<h1 id="八-Session"><a href="#八-Session" class="headerlink" title="八. Session"></a>八. Session</h1><ol>
<li><p>概念：服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中。HttpSession</p>
</li>
<li><p>快速入门：</p>
</li>
<li><p>获取 HttpSession 对象：</p>
<p> <code>HttpSession session = request.getSession();</code></p>
<ol start="2">
<li>使用HttpSession对象：</li>
</ol>
<ul>
<li>Object getAttribute(String name) </li>
<li>void setAttribute(String name, Object value)</li>
<li>void removeAttribute(String name)</li>
</ul>
</li>
<li><p>原理</p>
</li>
</ol>
<ul>
<li>Session 的实现是依赖于 Cookie 的。</li>
</ul>
<ol start="4">
<li><p>细节：</p>
<ul>
<li><p>当客户端关闭后，服务器不关闭，两次获取 session 是否为同一个？</p>
<ul>
<li><p>默认情况下。不是。</p>
</li>
<li><p>如果需要相同，则可以创建 Cookie，键为 JSESSIONID，设置最大存活时间，让 cookie 持久化保存。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Cookie</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;JSESSIONID&quot;</span>,session.getId());</span><br><span class="line">c.setMaxAge(<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line">response.addCookie(c);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>客户端不关闭，服务器关闭后，两次获取的 session 是同一个吗？</p>
<ul>
<li>不是同一个，但是要确保数据不丢失。tomcat 自动完成以下工作<ul>
<li>session 的钝化：<ul>
<li>在服务器正常关闭之前，将session对象系列化到硬盘上</li>
</ul>
</li>
<li>session 的活化：<ul>
<li>在服务器启动后，将 session 文件转化为内存中的 session 对象即可。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>session 什么时候被销毁？</p>
<ol>
<li><p>服务器关闭</p>
</li>
<li><p>session 对象调用 invalidate() 。</p>
</li>
<li><p>session 默认失效时间 30分钟<br>选择性配置修改    </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
<li><p>session 的特点</p>
<ol>
<li>session 用于存储一次会话的多次请求的数据，存在服务器端</li>
<li>session 可以存储任意类型，任意大小的数据</li>
</ol>
</li>
<li><p><strong>session 与 Cookie 的区别：</strong></p>
</li>
<li><p>session存储数据在服务器端，Cookie在客户端</p>
</li>
<li><p>session 没有数据大小限制，Cookie有</p>
</li>
<li><p>session 数据安全，Cookie相对于不安全</p>
</li>
</ol>
<h1 id="九-Filter"><a href="#九-Filter" class="headerlink" title="九. Filter"></a>九. Filter</h1><ol>
<li>概念：</li>
</ol>
<ul>
<li>生活中的过滤器：净水器,空气净化器，土匪、</li>
<li>web中的过滤器：当访问服务器的资源时，过滤器可以将请求拦截下来，完成一些特殊的功能。</li>
<li>过滤器的作用：一般用于完成通用的操作。如：登录验证、统一编码处理、敏感字符过滤…</li>
</ul>
<ol start="2">
<li>快速入门：</li>
</ol>
<ul>
<li><p>步骤：</p>
<ul>
<li>定义一个类，实现接口 Filter</li>
<li>复写方法</li>
<li>配置拦截路径  使用web.xml &#x2F; 注解</li>
</ul>
</li>
<li><p>代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(&quot;/*&quot;)</span><span class="comment">//访问所有资源之前，都会执行该过滤器</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilterDemo1</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">    	 System.out.println(<span class="string">&quot;filterDemo1被执行了....&quot;</span>);</span><br><span class="line">      	 <span class="comment">//放行</span></span><br><span class="line">		 filterChain.doFilter(servletRequest,servletResponse);	</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="3">
<li>过滤器细节：</li>
</ol>
<ul>
<li><p>web.xml配置    </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>cn.itcast.web.filter.FilterDemo1<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 拦截路径 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>过滤器执行流程</p>
<ol>
<li>执行过滤器</li>
<li>执行放行后的资源</li>
<li>回来执行过滤器放行代码下边的代码</li>
</ol>
</li>
<li><p>过滤器生命周期方法</p>
<ul>
<li>init：在服务器启动后，会创建Filter对象，然后调用init方法。只执行一次。用于加载资源</li>
<li><code>doFilter</code>：每一次请求被拦截资源时，会执行。执行多次</li>
<li>destroy：在服务器关闭后，Filter对象被销毁。如果服务器是正常关闭，则会执行destroy方法。只执行一次。用于释放资源</li>
</ul>
</li>
<li><p>过滤器配置详解</p>
<ul>
<li><p>拦截路径配置：</p>
<ol>
<li>具体资源路径： &#x2F;index.jsp   只有访问index.jsp资源时，过滤器才会被执行</li>
<li>拦截目录： &#x2F;user&#x2F;*    访问&#x2F;user下的所有资源时，过滤器都会被执行</li>
<li>后缀名拦截： *.jsp        访问所有后缀名为jsp资源时，过滤器都会被执行</li>
<li>拦截所有资源：&#x2F;*        访问所有资源时，过滤器都会被执行</li>
</ol>
</li>
<li><p>拦截方式配置：资源被访问的方式</p>
<ul>
<li><p>注解配置：</p>
<p>设置 dispatcherTypes 属性</p>
<ol>
<li>REQUEST：默认值。浏览器直接请求资源</li>
<li>FORWARD：转发访问资源</li>
<li>INCLUDE：包含访问资源</li>
<li>ERROR：错误跳转资源</li>
<li>ASYNC：异步访问资源</li>
</ol>
</li>
<li><p>web.xml 配置</p>
<p>设置&lt;dispatcher&gt;&lt;&#x2F;dispatcher&gt;标签即可</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>过滤器链(配置多个过滤器)</p>
<ul>
<li><p>执行顺序：如果有两个过滤器：过滤器1和过滤器2</p>
<p>过滤器1–&gt;过滤器2–&gt;资源执行–&gt;过滤器2–&gt;过滤器1 </p>
</li>
<li><p>过滤器先后顺序问题：</p>
<ul>
<li>注解配置：按照类名的字符串比较规则比较，值小的先执行<ul>
<li>如： AFilter 和 BFilter，AFilter就先执行了。</li>
</ul>
</li>
<li>web.xml配置： &lt;filter-mapping&gt;谁定义在上边，谁先执行</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="十-AJAX"><a href="#十-AJAX" class="headerlink" title="十. AJAX"></a>十. AJAX</h1><h2 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1. 概念"></a>1. 概念</h2><p>ASynchronous JavaScript And XML：异步的 JavaScript 和 XML</p>
<p>异步和同步：客户端和服务器端相互通信的基础上</p>
<ul>
<li>同步：客户端必须等待服务器端的响应。在等待的期间客户端不能做其他操作。</li>
<li>异步：客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作。：</li>
</ul>
<p><strong>Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术（局部刷新）</strong></p>
<p>通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现<strong>异步更新</strong>。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<p>传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。</p>
<h2 id="2-实现方式"><a href="#2-实现方式" class="headerlink" title="2. 实现方式"></a>2. 实现方式</h2><ul>
<li>原生的JS实现方式（了解）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.创建核心对象</span></span><br><span class="line">      <span class="keyword">var</span> xmlhttp;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>)</span><br><span class="line">      &#123;<span class="comment">// code for IE7+, Firefox, Chrome, Opera, Safari</span></span><br><span class="line">          xmlhttp=<span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;<span class="comment">// code for IE6, IE5</span></span><br><span class="line">          xmlhttp=<span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line"><span class="comment">// 2. 建立连接</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">      参数：</span></span><br><span class="line"><span class="comment">          1. 请求方式：GET、POST</span></span><br><span class="line"><span class="comment">              * get方式，请求参数在URL后边拼接。send方法为空参</span></span><br><span class="line"><span class="comment">              * post方式，请求参数在send方法中定义</span></span><br><span class="line"><span class="comment">          2. 请求的URL：</span></span><br><span class="line"><span class="comment">          3. 同步或异步请求：true（异步）或 false（同步）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  xmlhttp.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;ajaxServlet?username=tom&quot;</span>,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.发送请求</span></span><br><span class="line">  xmlhttp.<span class="title function_">send</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4.接受并处理来自服务器的响应结果</span></span><br><span class="line">  <span class="comment">// 获取方式 ：xmlhttp.responseText</span></span><br><span class="line">  <span class="comment">// 什么时候获取？当服务器响应成功后再获取</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当xmlhttp对象的就绪状态改变时，触发事件onreadystatechange。</span></span><br><span class="line">  xmlhttp.<span class="property">onreadystatechange</span>=<span class="keyword">function</span>(<span class="params"></span>)</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="comment">// 判断readyState就绪状态是否为4，判断status响应状态码是否为200</span></span><br><span class="line">      <span class="keyword">if</span> (xmlhttp.<span class="property">readyState</span>==<span class="number">4</span> &amp;&amp; xmlhttp.<span class="property">status</span>==<span class="number">200</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 获取服务器的响应结果</span></span><br><span class="line">          <span class="keyword">var</span> responseText = xmlhttp.<span class="property">responseText</span>;</span><br><span class="line">          <span class="title function_">alert</span>(responseText);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>JQeury 实现方式</li>
</ul>
<ol>
<li><u>$.ajax()</u></li>
</ol>
<ul>
<li>语法：<code>$.ajax(&#123;键值对&#125;)</code>;</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用$.ajax()发送异步请求</span></span><br><span class="line">   $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">       <span class="attr">url</span>:<span class="string">&quot;ajaxServlet1111&quot;</span> , <span class="comment">// 请求路径</span></span><br><span class="line">       <span class="attr">type</span>:<span class="string">&quot;POST&quot;</span> , <span class="comment">// 请求方式</span></span><br><span class="line">       <span class="comment">//data: &quot;username=jack&amp;age=23&quot;,// 请求参数</span></span><br><span class="line">       <span class="attr">data</span>:&#123;<span class="string">&quot;username&quot;</span>:<span class="string">&quot;jack&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">23</span>&#125;,</span><br><span class="line">       <span class="attr">success</span>:<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">           <span class="title function_">alert</span>(data);</span><br><span class="line">       &#125;,<span class="comment">// 响应成功后的回调函数</span></span><br><span class="line">       <span class="attr">error</span>:<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">           <span class="title function_">alert</span>(<span class="string">&quot;出错啦...&quot;</span>)</span><br><span class="line">       &#125;,<span class="comment">// 表示如果请求响应出现错误，会执行的回调函数</span></span><br><span class="line">	   <span class="attr">dataType</span>:<span class="string">&quot;text&quot;</span><span class="comment">// 设置接受到的响应数据的格式</span></span><br><span class="line">	 &#125;);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><u>$.get()</u>：发送get请求</li>
</ol>
<ul>
<li>语法：<code>$.get(url, [data], [callback], [type])</code><ul>
<li>url：请求路径</li>
<li>data：请求参数</li>
<li>callback：回调函数</li>
<li>type：响应结果的类型</li>
</ul>
</li>
</ul>
<ol start="3">
<li><u>$.post()</u>：发送post请求</li>
</ol>
<ul>
<li>语法：<code>$.post(url, [data], [callback], [type])</code><ul>
<li>url：请求路径</li>
<li>data：请求参数</li>
<li>callback：回调函数</li>
<li>type：响应结果的类型</li>
</ul>
</li>
</ul>
<h1 id="十一-JSON"><a href="#十一-JSON" class="headerlink" title="十一. JSON"></a>十一. JSON</h1><h2 id="1-名词解释-4"><a href="#1-名词解释-4" class="headerlink" title="1. 名词解释"></a>1. 名词解释</h2><blockquote>
<p>JSON：JavaScript 对象表示法（JavaScript Object Notation）。 JSON 是存储和交换文本信息的语法。类似 XML。但比 XML 更小、更快，更易解析。</p>
</blockquote>
<h2 id="2-基本语法"><a href="#2-基本语法" class="headerlink" title="2. 基本语法"></a>2. 基本语法</h2><p><u>基本规则</u>：</p>
<ul>
<li>数据在名称&#x2F;值对中：json数据是由键值对构成的<ul>
<li>键用引号(单双都行)引起来，也可以不使用引号</li>
<li>值得取值类型：<ol>
<li>数字（整数或浮点数）</li>
<li>字符串（在双引号中）</li>
<li>逻辑值（true 或 false）</li>
<li>数组（在方括号中）    {“persons”:[{},{}]}</li>
<li>对象（在花括号中） {“address”:{“province”：”陕西”….}}</li>
<li>null</li>
</ol>
</li>
</ul>
</li>
<li>数据由逗号分隔：多个键值对由逗号分隔</li>
<li>花括号保存对象：使用{}定义json 格式</li>
<li>方括号保存数组：[]</li>
<li>示例：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;book&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>:<span class="string">&quot;01&quot;</span>,</span><br><span class="line">            <span class="string">&quot;language&quot;</span>: <span class="string">&quot;Java&quot;</span>,</span><br><span class="line">            <span class="string">&quot;edition&quot;</span>: <span class="string">&quot;third&quot;</span>,</span><br><span class="line">            <span class="string">&quot;author&quot;</span>: <span class="string">&quot;Herbert Schildt&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>:<span class="string">&quot;07&quot;</span>,</span><br><span class="line">            <span class="string">&quot;language&quot;</span>: <span class="string">&quot;C++&quot;</span>,</span><br><span class="line">            <span class="string">&quot;edition&quot;</span>: <span class="string">&quot;second&quot;</span></span><br><span class="line">            <span class="string">&quot;author&quot;</span>: <span class="string">&quot;E.Balagurusamy&quot;</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><u>获取数据</u>:</p>
<ol>
<li>json对象.键名</li>
<li>json对象[“键名”]</li>
<li>数组对象[索引]</li>
<li>遍历</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.定义基本格式</span></span><br><span class="line">     <span class="keyword">var</span> person = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="attr">age</span>: <span class="number">23</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">	<span class="comment">//获取name的值</span></span><br><span class="line">	<span class="keyword">var</span> name = person.<span class="property">name</span>;  <span class="comment">//json对象.键名</span></span><br><span class="line">	<span class="keyword">var</span> name = person[<span class="string">&quot;name&quot;</span>];<span class="comment">//json对象[&quot;键名&quot;]</span></span><br><span class="line"><span class="comment">//2.嵌套格式   &#123;&#125;———&gt; []</span></span><br><span class="line">    <span class="keyword">var</span> persons = &#123;</span><br><span class="line">        <span class="string">&quot;persons&quot;</span>: [</span><br><span class="line">            &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">23</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;李四&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">24</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;王五&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">25</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//获取王五值</span></span><br><span class="line">    <span class="keyword">var</span> name1 = persons.<span class="property">persons</span>[<span class="number">2</span>].<span class="property">name</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.嵌套格式   []———&gt; &#123;&#125;</span></span><br><span class="line">    <span class="keyword">var</span> ps = [&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">23</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;李四&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">24</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;王五&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">25</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">false</span>&#125;];</span><br><span class="line">    <span class="comment">//获取李四值</span></span><br><span class="line">	<span class="keyword">var</span> name2 = ps[<span class="number">1</span>].<span class="property">name</span>;	</span><br><span class="line"><span class="comment">//4.遍历操作</span></span><br><span class="line">    <span class="keyword">var</span> ps = [&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">23</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;李四&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">24</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">              &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;王五&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">25</span>, <span class="string">&quot;gender&quot;</span>: <span class="literal">false</span>&#125;];</span><br><span class="line">	<span class="comment">//获取person对象中所有的键和值</span></span><br><span class="line">    <span class="comment">//for in 循环</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> person)&#123;</span><br><span class="line">        <span class="comment">//这样的方式获取不行。因为相当于  person.&quot;name&quot;</span></span><br><span class="line">        <span class="comment">//alert(key + &quot;:&quot; + person.key);</span></span><br><span class="line">        <span class="title function_">alert</span>(key+<span class="string">&quot;:&quot;</span>+person[key]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取ps中的所有值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ps.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> p = ps[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> p)&#123;</span><br><span class="line">            <span class="title function_">alert</span>(key+<span class="string">&quot;:&quot;</span>+p[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-JSON数据和Java对象的相互转换-Jackson"><a href="#3-JSON数据和Java对象的相互转换-Jackson" class="headerlink" title="3. JSON数据和Java对象的相互转换(Jackson)"></a>3. JSON数据和Java对象的相互转换(Jackson)</h2><p>JSON解析器：Jsonlib，Gson，fastjson，jackson……</p>
<h3 id="（1）JSON转为Java对象"><a href="#（1）JSON转为Java对象" class="headerlink" title="（1）JSON转为Java对象"></a>（1）JSON转为Java对象</h3><ul>
<li>导入 jackson 的相关 jar 包</li>
<li>创建 Jackson 核心对象 ObjectMapper</li>
<li>调用 ObjectMappe r的相关方法进行转换：<code>readValue(json字符串数据,Class)</code>;</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">objectToJson</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">//1.Json数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">Json</span> <span class="operator">=</span><span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;张三\&quot;,\&quot;score\&quot;:98,\&quot;gender\&quot;:\&quot;男\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的readValue方法将Json数据转换为java对象</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> objectMapper.readValue(Json, Student.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出转换的java对象</span></span><br><span class="line">    System.out.println(student);<span class="comment">//Student&#123;name=&#x27;张三&#x27;, score=98, gender=&#x27;男&#x27;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（2）Java-对象转换-JSON"><a href="#（2）Java-对象转换-JSON" class="headerlink" title="（2）Java 对象转换 JSON"></a>（2）Java 对象转换 JSON</h3><ul>
<li>导入 jackson 的相关jar包</li>
<li>创建 Jackson 核心对象 ObjectMapper</li>
<li>调用 ObjectMapper 的相关方法进行转换<ul>
<li>转换方法：<ul>
<li><code>writeValue(参数1，obj)</code>:<br>参数1：<br>    File：将obj对象转换为JSON字符串，并保存到指定的文件中<br>    Writer：将obj对象转换为JSON字符串，并将json数据填充到字符输出流中<br>    OutputStream：将obj对象转换为JSON字符串，并将json数据填充到字节输出流中</li>
<li><code>writeValueAsString(obj)</code>：将对象转为json字符串</li>
</ul>
</li>
<li>注解：<ul>
<li>@JsonIgnore：排除属性。</li>
<li>@JsonFormat：属性值格式化。举例：@JsonFormat(pattern &#x3D; “yyyy-MM-dd”)</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jsonToObject</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">    <span class="comment">//1.java对象</span></span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>,<span class="number">80</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的writeValueAsString方法将java对象转换为Json数据</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> objectMapper.writeValueAsString(student);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出转换的Json数据</span></span><br><span class="line">    System.out.println(json);<span class="comment">//&#123;&quot;name&quot;:&quot;李四&quot;,&quot;score&quot;:80,&quot;gender&quot;:&quot;男&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（3）复杂-Java-对象和-JSON-的相互转换"><a href="#（3）复杂-Java-对象和-JSON-的相互转换" class="headerlink" title="（3）复杂 Java 对象和 JSON 的相互转换"></a>（3）复杂 Java 对象和 JSON 的相互转换</h3><ul>
<li><u>List：数组</u></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将list集合转换为Json数组【注意只有list转换后是json数组，其他转换是json对象】</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listToJson</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">    <span class="comment">//1.list对象</span></span><br><span class="line">    <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>,<span class="number">80</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">    <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;王二&quot;</span>,<span class="number">88</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">    <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;小花&quot;</span>,<span class="number">96</span>,<span class="string">&quot;女&quot;</span>);</span><br><span class="line">    List&lt;Student&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(s1);</span><br><span class="line">    list.add(s2);</span><br><span class="line">    list.add(s3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的writeValueAsString方法</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> objectMapper.writeValueAsString(list);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出转换结果</span></span><br><span class="line">    System.out.println(json);<span class="comment">//[&#123;&quot;name&quot;:&quot;李四&quot;,&quot;score&quot;:80,&quot;gender&quot;:&quot;男&quot;&#125;,&#123;&quot;name&quot;:&quot;王二&quot;,&quot;score&quot;:88,&quot;gender&quot;:&quot;男&quot;&#125;,&#123;&quot;name&quot;:&quot;小花&quot;,&quot;score&quot;:96,&quot;gender&quot;:&quot;女&quot;&#125;]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//将Json数组转换为List集合</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jsonToList</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">//1.json数组</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;[&#123;\&quot;name\&quot;:\&quot;李四\&quot;,\&quot;score\&quot;:80,\&quot;gender\&quot;:\&quot;男\&quot;&#125;,&#123;\&quot;name\&quot;:\&quot;王二\&quot;,\&quot;score\&quot;:88,\&quot;gender\&quot;:\&quot;男\&quot;&#125;,&#123;\&quot;name\&quot;:\&quot;小花\&quot;,\&quot;score\&quot;:96,\&quot;gender\&quot;:\&quot;女\&quot;&#125;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的readValue方法</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    List&lt;Student&gt; list = objectMapper.readValue(json,<span class="keyword">new</span> <span class="title class_">TypeReference</span>&lt;List&lt;Student&gt;&gt;() &#123; &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出结果</span></span><br><span class="line">    Iterator&lt;Student&gt; iterator = list.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">/*控制台输出结果</span></span><br><span class="line"><span class="comment">    Student&#123;name=&#x27;李四&#x27;, score=80, gender=&#x27;男&#x27;&#125;</span></span><br><span class="line"><span class="comment">    Student&#123;name=&#x27;王二&#x27;, score=88, gender=&#x27;男&#x27;&#125;</span></span><br><span class="line"><span class="comment">    Student&#123;name=&#x27;小花&#x27;, score=96, gender=&#x27;女&#x27;&#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><u>Map：对象格式一致</u></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//map转换为json数据</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mapToJson</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">    <span class="comment">//1.map对象</span></span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;score&quot;</span>,<span class="number">50</span>);</span><br><span class="line">    map.put(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的writeValueAsString方法</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> objectMapper.writeValueAsString(map);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出转换结果</span></span><br><span class="line">    System.out.println(json);<span class="comment">//&#123;&quot;score&quot;:50,&quot;gender&quot;:&quot;男&quot;,&quot;name&quot;:&quot;小明&quot;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//json数据转换为map</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jsonToMap</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">//1.json数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span><span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;张三\&quot;,\&quot;score\&quot;:98,\&quot;gender\&quot;:\&quot;男\&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用objectMapper的readValue方法</span></span><br><span class="line">    <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">    <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> objectMapper.readValue(json, Map.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.输出map结果</span></span><br><span class="line">    <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">    <span class="keyword">for</span> (Object obj:set)&#123;</span><br><span class="line">        System.out.println(obj + <span class="string">&quot;=&quot;</span> + map.get(obj));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*控制台结果为：</span></span><br><span class="line"><span class="comment">    name=张三</span></span><br><span class="line"><span class="comment">    score=98</span></span><br><span class="line"><span class="comment">    gender=男 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






    </div>

    
    
    
	<div>
	    
	    <div style="text-align:center;color:#ccc;font-size:20px;margin-top:30px">
		-------本 文 结 束 <i class="fa fa-paw"></i> 感 谢 您 的 阅 读-------
	    </div>
	    
	</div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>SniperCoding
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://snipercoding.github.io/2022/02/21/JavaWeb/" title="JavaWeb基础知识">https://snipercoding.github.io/2022/02/21/JavaWeb/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-Hans" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/02/20/JDBC/" rel="prev" title="Java通过JDBC访问数据库">
      <i class="fa fa-chevron-left"></i> Java通过JDBC访问数据库
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/02/21/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="next" title="前端基础知识">
      前端基础知识 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80-JavaWeb%E6%A6%82%E8%BF%B0"><span class="nav-text">一. JavaWeb概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80-XML"><span class="nav-text">一. XML</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="nav-text">1. 名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E8%AF%AD%E6%B3%95"><span class="nav-text">2. 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E8%A7%84%E8%8C%83"><span class="nav-text">（1）规范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E6%A1%A3%E5%A3%B0%E6%98%8E"><span class="nav-text">（2）文档声明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E6%A0%87%E7%AD%BE%EF%BC%88%E5%85%83%E7%B4%A0%EF%BC%89"><span class="nav-text">（3）标签（元素）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%884%EF%BC%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="nav-text">（4）特殊字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%885%EF%BC%89CDATA-%E5%8C%BA"><span class="nav-text">（5）CDATA 区</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-XML-%E8%A7%A3%E6%9E%90"><span class="nav-text">3. XML 解析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-dom4j-%E8%A7%A3%E6%9E%90%E6%8A%80%E6%9C%AF"><span class="nav-text">4. dom4j 解析技术</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C-Tomcat"><span class="nav-text">二. Tomcat</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-1"><span class="nav-text">1. 名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-text">2. 基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E5%AE%89%E8%A3%85"><span class="nav-text">（1）安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E5%90%AF%E5%8A%A8"><span class="nav-text">（2）启动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E9%83%A8%E7%BD%B2"><span class="nav-text">（3）部署</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%884%EF%BC%89IDEA-%E6%B7%BB%E5%8A%A0-Tomcat-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">（4）IDEA 添加 Tomcat 服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%885%EF%BC%89IDEA-%E4%B8%AD%E5%8A%A8%E6%80%81-web-%E5%B7%A5%E7%A8%8B%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">（5）IDEA 中动态 web 工程的操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89-Servlet"><span class="nav-text">三. Servlet</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-2"><span class="nav-text">1. 名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AE%9E%E7%8E%B0-Servlet-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0-Servlet-%E7%A8%8B%E5%BA%8F"><span class="nav-text">2. 实现 Servlet 接口实现 Servlet 程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%AD%A5%E9%AA%A4"><span class="nav-text">（1）步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="nav-text">（2）执行原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89Servlet-%E4%B8%AD%E6%96%B9%E6%B3%95%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">（3）Servlet 中方法的生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%884%EF%BC%89%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="nav-text">（4）注解配置（了解）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%885%EF%BC%89service-%E6%96%B9%E6%B3%95"><span class="nav-text">（5）service 方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%BB%A7%E6%89%BF-HttpServlet-%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0-Servlet-%E7%A8%8B%E5%BA%8F"><span class="nav-text">3. 继承 HttpServlet 方法实现 Servlet 程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%AD%A5%E9%AA%A4-1"><span class="nav-text">（1）步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8IDEA%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA"><span class="nav-text">（2）使用IDEA自动创建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-ServletConfig-%E7%B1%BB"><span class="nav-text">4. ServletConfig 类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-ServletContext-%E7%B1%BB"><span class="nav-text">5. ServletContext 类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-HTTP-%E5%8D%8F%E8%AE%AE"><span class="nav-text">6. HTTP 协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%A6%82%E5%BF%B5"><span class="nav-text">（1）概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E7%89%B9%E7%82%B9"><span class="nav-text">（2）特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="nav-text">（3）请求消息数据格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%884%EF%BC%89%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="nav-text">（4）响应消息数据格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%885%EF%BC%89MIME-%E7%B1%BB%E5%9E%8B%E8%AF%B4%E6%98%8E"><span class="nav-text">（5）MIME 类型说明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-HttpServletRequest-%E7%B1%BB"><span class="nav-text">7. HttpServletRequest 类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-HttpServletResponse-%E7%B1%BB"><span class="nav-text">8. HttpServletResponse 类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8E%E4%B8%8B%E8%BD%BD"><span class="nav-text">四. 文件上传与下载</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="nav-text">1. 文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89HTML-%E9%A1%B5%E9%9D%A2"><span class="nav-text">（1）HTML 页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E5%AF%BC%E5%85%A5-jar-%E5%8C%85"><span class="nav-text">（2）导入 jar 包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89Servlet%E9%A1%B5%E9%9D%A2"><span class="nav-text">（3）Servlet页面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="nav-text">2. 文件下载</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94-JSP"><span class="nav-text">五. JSP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-jsp-%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="nav-text">1. jsp 的语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%8C%87%E4%BB%A4"><span class="nav-text">（1）指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E6%B3%A8%E9%87%8A"><span class="nav-text">（2）注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E8%84%9A%E6%9C%AC"><span class="nav-text">（3）脚本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-jsp-%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-text">2. jsp 内置对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-jsp-%E5%9F%9F%E5%AF%B9%E8%B1%A1"><span class="nav-text">3. jsp 域对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-EL-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">4. EL 表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-JSTL-%E6%A0%87%E7%AD%BE"><span class="nav-text">5. JSTL 标签</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD-Listener"><span class="nav-text">六. Listener</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="nav-text">1. 概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%9C%BA%E5%88%B6"><span class="nav-text">2. 事件监听机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-ServletContextListener-%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-text">3. ServletContextListener 监听器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83-Cookie"><span class="nav-text">七. Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-3"><span class="nav-text">1. 名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="nav-text">2. 基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Cookie-%E7%94%9F%E5%91%BD%E6%8E%A7%E5%88%B6"><span class="nav-text">3. Cookie 生命控制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB-Session"><span class="nav-text">八. Session</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D-Filter"><span class="nav-text">九. Filter</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81-AJAX"><span class="nav-text">十. AJAX</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%A6%82%E5%BF%B5-1"><span class="nav-text">1. 概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="nav-text">2. 实现方式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%80-JSON"><span class="nav-text">十一. JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A-4"><span class="nav-text">1. 名词解释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">2. 基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-JSON%E6%95%B0%E6%8D%AE%E5%92%8CJava%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2-Jackson"><span class="nav-text">3. JSON数据和Java对象的相互转换(Jackson)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89JSON%E8%BD%AC%E4%B8%BAJava%E5%AF%B9%E8%B1%A1"><span class="nav-text">（1）JSON转为Java对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89Java-%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2-JSON"><span class="nav-text">（2）Java 对象转换 JSON</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E5%A4%8D%E6%9D%82-Java-%E5%AF%B9%E8%B1%A1%E5%92%8C-JSON-%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="nav-text">（3）复杂 Java 对象和 JSON 的相互转换</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SniperCoding"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">SniperCoding</p>
  <div class="site-description" itemprop="description">请不要假装很努力，因为结果不会陪你演戏！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/SniperCoding" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;SniperCoding" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SniperCoding</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">219k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">3:19</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'uEQlOTKrhpXHePOJS3OgRs6i-gzGzoHsz',
      appKey     : 'eO4nhfbFpC6pbqpfrYlQ3zcl',
      placeholder: "撰写你的评论叭~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
    // �����������ݣ�ɾ��Powered By Valine
    var infoEle = document.querySelector('.vpower');
    if (infoEle){
        infoEle.parentNode.removeChild(infoEle);
    }
  });
});
</script>
</body>
</html>
